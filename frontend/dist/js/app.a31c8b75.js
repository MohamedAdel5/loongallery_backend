(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},a={app:0},n=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var r=s("85ec"),a=s.n(r);a.a},"04b8":function(t,e,s){"use strict";var r=s("1fe9"),a=s.n(r);a.a},"04f6":function(t,e,s){},"0ffc":function(t,e,s){"use strict";var r=s("e790"),a=s.n(r);a.a},"1d62":function(t,e,s){"use strict";var r=s("eaa2"),a=s.n(r);a.a},"1e85":function(t,e,s){},"1fe9":function(t,e,s){},"273b":function(t,e,s){},"28b9":function(t,e,s){},"298e":function(t,e,s){"use strict";var r=s("bc87"),a=s.n(r);a.a},"29c1":function(t,e,s){"use strict";var r=s("e2ed"),a=s.n(r);a.a},"2ab8":function(t,e,s){"use strict";var r=s("9ef7"),a=s.n(r);a.a},"2da1":function(t,e,s){"use strict";var r=s("74ed"),a=s.n(r);a.a},"2de8":function(t,e,s){"use strict";var r=s("1e85"),a=s.n(r);a.a},"341f":function(t,e,s){},"35d6":function(t,e,s){"use strict";var r=s("04f6"),a=s.n(r);a.a},"42b6":function(t,e,s){"use strict";var r=s("9070"),a=s.n(r);a.a},"45fe":function(t,e,s){},"482f":function(t,e,s){"use strict";var r=s("d226"),a=s.n(r);a.a},"487a":function(t,e,s){"use strict";var r=s("28b9"),a=s.n(r);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-app",[s("appbar"),s("v-main",{staticClass:"main-app"},[s("router-view")],1),s("footer-component")],1):t._e()},n=[],o=(s("a15b"),s("d81d"),s("fb6a"),s("b0c0"),s("d3b7"),s("ac1f"),s("25f0"),s("5319"),s("1276"),s("96cf"),s("1da1")),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-navigation-drawer",{attrs:{app:"",temporary:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list-item",{attrs:{to:"/home"}},[r("v-list-item-avatar",[r("v-icon",{staticClass:"primary--text"},[t._v("mdi-home")])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"primary--text"},[t._v("Menu")])],1)],1),r("v-divider"),t.isAdmin?t._e():[t.isLoggedIn?r("v-list",{attrs:{nav:"",dense:""}},t._l(t.afterRegisterNavbarTabs,(function(e){return r("v-list-item",{key:e.title,attrs:{link:""},on:{click:e.action}},[r("v-list-item-icon",{staticClass:"primary--text"},[r("v-icon",{staticClass:"primary--text"},[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(e.title))])],1)],1)})),1):r("v-list",{attrs:{nav:"",dense:""}},t._l(t.beforeRegisterNavbarTabs,(function(e){return r("v-list-item",{key:e.title,attrs:{link:"",to:e.link}},[r("v-list-item-icon",{staticClass:"primary--text"},[r("v-icon",{staticClass:"primary--text"},[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(e.title))])],1)],1)})),1)]],2),r("v-app-bar",{staticClass:"primary--text secondary",attrs:{id:"appbar",dense:"",app:"",fixed:"","elevate-on-scroll":""}},[r("v-btn",{attrs:{icon:"",to:"/home"}},[r("v-img",{staticClass:"logo",attrs:{src:s("b640"),"max-height":"40px","max-width":"40px"}})],1),r("v-btn",{staticStyle:{height:"100%"},attrs:{text:"",color:"secondary",to:"/home"}},[r("span",{staticClass:"primary--text"},[t._v("Loon Gallery")])]),r("v-spacer"),t.$vuetify.breakpoint.smAndUp&&!t.isAdmin?r("v-toolbar-items",[t.isLoggedIn?t._l(t.afterRegisterNavbarTabs,(function(e){return r("v-btn",{key:e.title,attrs:{color:"secondary",depressed:""},on:{click:e.action}},[r("span",{staticClass:"primary--text"},[t._v(t._s(e.title))]),r("v-icon",{staticClass:"primary--text",attrs:{right:""}},[t._v(t._s(e.icon))])],1)})):t._l(t.beforeRegisterNavbarTabs,(function(e){return r("v-btn",{key:e.title,attrs:{to:e.link,color:"secondary",depressed:""}},[r("span",{staticClass:"primary--text"},[t._v(t._s(e.title))]),r("v-icon",{staticClass:"primary--text",attrs:{right:""}},[t._v(t._s(e.icon))])],1)}))],2):t._e(),t.$vuetify.breakpoint.xsOnly&&!t.isAdmin?r("v-app-bar-nav-icon",{staticClass:"primary--text",on:{click:function(e){t.drawer=!0}}}):t._e()],1)],1)},c=[],l={data:function(){return{navbarColor:"rgb(0,0,0,1)",drawer:!1}},mounted:function(){this.handleScroll()},computed:{isAdmin:function(){return"admin"===this.$route.name},isLoggedIn:function(){return this.$store.getters.loggedIn},beforeRegisterNavbarTabs:function(){return[{icon:"mdi-login",title:"Login",link:"/login"},{icon:"mdi-account-plus",title:"Signup",link:"/signup"}]},afterRegisterNavbarTabs:function(){return[{icon:"mdi-account",title:"Profile",action:this.toProfile},{icon:"mdi-account-arrow-left",title:"Logout",action:this.logout}]}},methods:{handleScroll:function(){var t=document.getElementById("appbar");window.addEventListener("scroll",(function(){window.scrollY>95?t.style.opacity=.5:t.style.opacity=1}))},logout:function(){localStorage.removeItem("auth_jwt"),this.$store.dispatch("setAuthJwt",null),this.$store.dispatch("setLoggedInStatus",!1),this.$store.dispatch("setUser",{}),this.$router.push("/home").catch((function(){}))},toProfile:function(){this.$router.push("/my-profile")}}},u=l,d=(s("298e"),s("2877")),p=s("6544"),h=s.n(p),v=s("40dc"),m=s("5bc1"),f=s("8336"),g=s("ce7e"),b=s("132d"),y=s("adda"),x=s("8860"),_=s("da13"),w=s("8270"),C=s("5d23"),k=s("34c3"),P=s("f774"),S=s("2fa4"),R=s("2a7f"),A=Object(d["a"])(u,i,c,!1,null,"6164ec7a",null),V=A.exports;h()(A,{VAppBar:v["a"],VAppBarNavIcon:m["a"],VBtn:f["a"],VDivider:g["a"],VIcon:b["a"],VImg:y["a"],VList:x["a"],VListItem:_["a"],VListItemAvatar:w["a"],VListItemContent:C["a"],VListItemIcon:k["a"],VListItemTitle:C["b"],VNavigationDrawer:P["a"],VSpacer:S["a"],VToolbarItems:R["a"]});var $=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-footer",{staticStyle:{"z-index":"10"},attrs:{absolute:"",padless:"",color:"primary white--text"}},[s("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" — All copyrights reserved for "),s("strong",[t._v("Loon Gallery ©")])])],1)},O=[],E={name:"FooterComponent",data:function(){return{}}},F=E,I=s("62ad"),T=s("553a"),z=Object(d["a"])(F,$,O,!1,null,"33ce5468",null),j=z.exports;h()(z,{VCol:I["a"],VFooter:T["a"]});var N={name:"App",components:{Appbar:V,FooterComponent:j},data:function(){return{dataFetched:!1}},methods:{parseJwt:function(t){var e=t.split(".")[1],s=e.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(s).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)},validateToken:function(t){if(t){var e=this.parseJwt(t);return Date.now()>=1e3*e.exp?"expired":"valid"}return"invalid"},getUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/users/me",{headers:{Authorization:e}});case 2:s=t.sent,this.$store.dispatch("setUser",s.data.user),this.$store.dispatch("setAuthJwt",e),this.$store.dispatch("setLoggedInStatus",!0);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},watch:{"$store.state.authJwt":function(){this.$store.getters.authJwt||(this.$store.dispatch("setLoggedInStatus",!1),this.$store.dispatch("setUser",{}))}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(document.title="Loongallery","admin"===this.$route.name||"admin-login"===this.$route.name){t.next=11;break}if(e=localStorage.getItem("auth_jwt"),s=this.validateToken(e),"valid"!==s){t.next=10;break}return this.getUser(e),this.dataFetched=!0,t.abrupt("return");case 10:"expired"===s&&localStorage.removeItem("auth_jwt");case 11:this.$store.dispatch("setAuthJwt",null),this.$store.dispatch("setLoggedInStatus",!1),this.$store.dispatch("setUser",{}),this.dataFetched=!0;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},D=N,L=(s("034f"),s("7496")),M=s("f6c4"),G=Object(d["a"])(D,a,n,!1,null,null,null),W=G.exports;h()(G,{VApp:L["a"],VMain:M["a"]});s("a434"),s("b64b");var J=s("b85c"),B=s("2f62");r["a"].use(B["a"]);var U=new B["a"].Store({strict:!0,state:{nonCustomGeneralProducts:{},customGeneralProducts:{},cart:[],facePrice:null,shippingFees:{},loggedIn:!0,authJwt:null,user:{},adminLoggedIn:!1,adminAuthJwt:null,admin:{}},getters:{nonCustomGeneralProducts:function(t){return t.nonCustomGeneralProducts},customGeneralProducts:function(t){return t.customGeneralProducts},categories:function(t){return Object.keys(t.nonCustomGeneralProducts)},customDrawingStyles:function(t){return Object.keys(t.customGeneralProducts)},cart:function(t){return t.cart},facePrice:function(t){return t.facePrice},shippingFees:function(t){return t.shippingFees},loggedIn:function(t){return t.loggedIn},user:function(t){return t.user},authJwt:function(t){return t.authJwt},adminLoggedIn:function(t){return t.adminLoggedIn},admin:function(t){return t.admin},adminAuthJwt:function(t){return t.adminAuthJwt}},mutations:{SET_NON_CUSTOM_GENERAL_PRODUCTS:function(t,e){t.nonCustomGeneralProducts={};var s,r=Object(J["a"])(e);try{for(r.s();!(s=r.n()).done;){var a=s.value;t.nonCustomGeneralProducts[a.productName]={sizesPrices:a.sizesPrices}}}catch(n){r.e(n)}finally{r.f()}},SET_CUSTOM_GENERAL_PRODUCTS:function(t,e){t.customGeneralProducts={};var s,r=Object(J["a"])(e);try{for(r.s();!(s=r.n()).done;){var a=s.value;t.customGeneralProducts[a.productName]={sizesPrices:a.sizesPrices}}}catch(n){r.e(n)}finally{r.f()}},ADD_TO_CART:function(t,e){t.cart.push(e)},REMOVE_FROM_CART:function(t,e){t.cart.splice(e,1)},EMPTY_CART:function(t){t.cart=[]},SET_FACE_PRICE:function(t,e){t.facePrice=e},SET_SHIPPING_FEES:function(t,e){t.shippingFees=e},SET_LOGGED_IN_STATUS:function(t,e){t.loggedIn=e},SET_AUTH_JWT:function(t,e){t.authJwt=e},SET_USER:function(t,e){t.user=e},EDIT_USER:function(t,e){for(var s=Object.keys(e),r=0;r<s.length;r++){var a=s[r];t.user[a]=e[a]}},SET_ADMIN_LOGGED_IN_STATUS:function(t,e){t.adminLoggedIn=e},SET_ADMIN_AUTH_JWT:function(t,e){t.adminAuthJwt=e},SET_ADMIN:function(t,e){t.admin=e}},actions:{setNonCustomGeneralProducts:function(t,e){var s=t.commit;s("SET_NON_CUSTOM_GENERAL_PRODUCTS",e)},setCustomGeneralProducts:function(t,e){var s=t.commit;s("SET_CUSTOM_GENERAL_PRODUCTS",e)},addToCart:function(t,e){var s=t.commit;s("ADD_TO_CART",e)},removeFromCart:function(t,e){var s=t.commit;s("REMOVE_FROM_CART",e)},emptyCart:function(t){var e=t.commit;e("EMPTY_CART")},setFacePrice:function(t,e){var s=t.commit;s("SET_FACE_PRICE",e)},setShippingFees:function(t,e){var s=t.commit;s("SET_SHIPPING_FEES",e)},setLoggedInStatus:function(t,e){var s=t.commit;s("SET_LOGGED_IN_STATUS",e)},setAuthJwt:function(t,e){var s=t.commit;s("SET_AUTH_JWT",e)},setUser:function(t,e){var s=t.commit;s("SET_USER",e)},editUser:function(t,e){var s=t.commit;s("EDIT_USER",e)},setAdminLoggedInStatus:function(t,e){var s=t.commit;s("SET_ADMIN_LOGGED_IN_STATUS",e)},setAdminAuthJwt:function(t,e){var s=t.commit;s("SET_ADMIN_AUTH_JWT",e)},setAdmin:function(t,e){var s=t.commit;s("SET_ADMIN",e)}}}),q=U,Y=s("8c4f"),H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("banner"),s("v-container",{staticClass:"d-flex flex-column justify-center pt-0 pb-16"},[s("v-card",{staticClass:"main",attrs:{tile:"",flat:""}},[s("v-tabs",{staticClass:"secondary--text main",attrs:{"show-arrows":"","background-color":"white",centered:"",dark:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,(function(e){return s("v-tab",{key:e.component,staticClass:"secondary--text main",on:{click:function(s){return t.redirect(e.component)}}},[t._v(" "+t._s(e.title)+" ")])})),1),s(t.tabs[t.tabIndex].component,{tag:"component"})],1)],1),s("v-tooltip",{staticStyle:{"z-index":"11"},attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-btn",t._g(t._b({staticStyle:{"z-index":"11"},attrs:{dark:"",fab:"",bottom:"",right:"",fixed:"",color:"orange",to:"/shopping-cart"}},"v-btn",a,!1),r),[s("v-icon",[t._v("mdi-cart")])],1)]}}])},[s("span",[t._v("View Your Shopping Cart")])])],1)},Q=[],K=(s("c740"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"banner"},[r("div",{staticClass:"banner-overlay"},[r("v-img",{staticClass:"logo",attrs:{src:s("b640"),"max-height":"200px","max-width":"200px"}})],1)])}),Z=[],X={name:"Banner",data:function(){return{}}},tt=X,et=(s("c5eb"),Object(d["a"])(tt,K,Z,!1,null,"284db57e",null)),st=et.exports;h()(et,{VImg:y["a"]});var rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-card",{staticClass:"main mb-16",attrs:{tile:"",flat:""}},[s("h2",{staticClass:"text-center py-10 secondary--text"},[t._v("Our Products")]),s("v-container",{staticClass:"d-flex flex-column align-content-space-around"},[s("v-tabs",{staticClass:"secondary--text main",attrs:{"show-arrows":"","background-color":"white",centered:"",dark:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,(function(e){return s("v-tab",{key:e.category,staticClass:"secondary--text main",on:{click:function(s){return t.getProducts(e.category,1)}}},[t._v(" "+t._s(e.title)+" ")])})),1),s("v-row",[s("v-col",{class:t.$vuetify.breakpoint.xsOnly?"pa-0":"pa-4",attrs:{cols:"12"}},[s("v-pagination",{attrs:{length:t.pagesCount,"total-visible":t.$vuetify.breakpoint.smAndDown?3:t.pagesCount,circle:"",color:"secondary",dark:""},on:{input:function(e){return t.getProducts(t.currentCategory,t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1),t._l(Math.floor(t.productsCount/t.elementsPerRow),(function(e){return s("v-row",{key:e,staticClass:"d-flex flex-row justify-space-around"},t._l(t.elementsPerRow,(function(r){return s("v-col",{key:r,staticClass:"d-flex flex-column flex-grow-0 mt-4"},[s("router-link",{staticClass:"productLink",attrs:{to:"/product/"+t.products[(e-1)*t.elementsPerRow+(r-1)]._id}},[s("product-card",{attrs:{prices:t.generalProductPrices,title:t.tabs[t.tabIndex].title+"-"+t.products[(e-1)*t.elementsPerRow+(r-1)].skuCode,imageSrc:t.products[(e-1)*t.elementsPerRow+(r-1)].image}})],1)],1)})),1)})),s("v-row",{staticClass:"d-flex flex-row justify-space-around"},t._l(t.productsCount-Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow,(function(e){return s("v-col",{key:e,staticClass:"d-flex flex-column flex-grow-0 mt-4"},[s("router-link",{staticClass:"productLink",attrs:{to:"/product/"+t.products[Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow+(e-1)]._id}},[s("product-card",{attrs:{prices:t.generalProductPrices,title:t.tabs[t.tabIndex].title+"-"+t.products[Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow+(e-1)].skuCode,imageSrc:t.products[Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow+(e-1)].image}})],1)],1)})),1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-pagination",{attrs:{length:t.pagesCount,"total-visible":t.$vuetify.breakpoint.smAndDown?3:t.pagesCount,circle:"",color:"secondary",dark:""},on:{input:function(e){return t.getProducts(t.currentCategory,t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],2)],1):t._e()},at=[],nt=(s("99af"),s("07ac"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-img",{attrs:{src:t.imageSrc,height:t.imageSize,width:t.imageSize,alt:"Portrait"}}),s("h3",{staticClass:"text-center subtitle-1 font-weight-black"},[t._v(t._s(t.title))]),s("h4",{staticClass:"text-center subtitle-2 font-weight-thin"},[t._v(" "+t._s(t.calculatePriceRange())+" LE ")])],1)}),ot=[],it={name:"product-card",props:["imageSrc","title","prices"],data:function(){return{imageSize:"300px"}},methods:{calculatePriceRange:function(){return this.prices.length>1?"".concat(this.prices[0]," - ").concat(this.prices[this.prices.length-1]):"".concat(this.prices[0])}}},ct=it,lt=s("b0af"),ut=Object(d["a"])(ct,nt,ot,!1,null,"e23c9512",null),dt=ut.exports;h()(ut,{VCard:lt["a"],VImg:y["a"]});var pt={name:"our-portraits",components:{ProductCard:dt},watch:{},data:function(){return{dataFetched:!1,productsCount:0,elementsPerRow:3,page:1,pagesCount:1,tabIndex:0,tabs:[{title:"Decoration Tableau",category:"Decoration tableau"},{title:"Mersal",category:"Mersal"},{title:"Wood Carving",category:"Wood carving"}],generalProductPrices:[],products:[]}},computed:{currentCategory:function(){return this.tabs[this.tabIndex].category}},methods:{getProducts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=2,t.next=3,this.$http.get("/products?productCategories=".concat(e,"&page=").concat(s,"&limit=").concat(r));case 3:if(a=t.sent,this.pagesCount=Math.ceil(a.data.totalSize/r),this.productsCount=a.data.size,this.products=a.data.products,0!==Object.keys(this.$store.getters.nonCustomGeneralProducts).length){t.next=16;break}return t.next=10,this.$http.get("/general-products/non-custom-products");case 10:a=t.sent,this.$store.dispatch("setNonCustomGeneralProducts",a.data.products),o=a.data.products.findIndex((function(t){return t.productName===e})),n=Object.values(a.data.products[o].sizesPrices),t.next=17;break;case 16:n=Object.values(this.$store.getters.nonCustomGeneralProducts[e].sizesPrices);case 17:this.generalProductPrices=n,this.page=s;case 19:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getProducts("Decoration tableau",this.page);case 2:this.dataFetched=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},ht=pt,vt=(s("bf4b"),s("a523")),mt=s("891e"),ft=s("0fd9"),gt=s("71a3"),bt=s("fe57"),yt=Object(d["a"])(ht,rt,at,!1,null,"0c9b8bf2",null),xt=yt.exports;h()(yt,{VCard:lt["a"],VCol:I["a"],VContainer:vt["a"],VPagination:mt["a"],VRow:ft["a"],VTab:gt["a"],VTabs:bt["a"]});var _t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-card",{staticClass:"main mb-16"},[s("h2",{staticClass:"text-center py-10 secondary--text"},[t._v(" Customize Your Own Portrait ")]),s("v-container",{staticClass:"d-flex flex-column align-content-space-around pa-10"},[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{cols:"10"}},[s("v-row",[s("p",{staticClass:"font-weight-light secondary--text"},[t._v(" Upload An Image And Make A Special Order ")])]),s("v-row",[s("v-file-input",{attrs:{disabled:!t.addToCartButton,dense:"",accept:"image/*",label:"Select From Device..."},on:{change:t.selectFile}})],1),s("v-row",{staticClass:"pt-6"},[s("v-text-field",{attrs:{disabled:!t.addToCartButton,min:"1",rules:t.numberOfFacesRules,type:"number",label:"How many people are in the image?","persistent-hint":"",hint:"If the image does not contain people, write 0",dense:""},model:{value:t.numberOfFaces,callback:function(e){t.numberOfFaces=e},expression:"numberOfFaces"}})],1),s("v-row",[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"dark--text caption"},[t._v("Choose Drawing Style")])])],1),s("v-col",{staticClass:"d-flex justify-center align-center sizeRow",attrs:{cols:"6"}},[s("v-select",{attrs:{disabled:!t.addToCartButton,items:t.customDrawingStyles,standard:"",label:"style"},model:{value:t.drawingStyle,callback:function(e){t.drawingStyle=e},expression:"drawingStyle"}})],1)],1),s("v-row",[s("router-link",{staticClass:" blue--text",attrs:{to:"/drawing-styles-examples"}},[t._v("Show Drawing Styles Examples")])],1),s("v-row",[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"dark--text caption"},[t._v("Choose Size (width x height)cm")])])],1),s("v-col",{staticClass:"d-flex justify-center align-center sizeRow",attrs:{cols:"6"}},[s("v-select",{attrs:{disabled:!t.addToCartButton,items:t.portraitSizes,standard:"",label:"size"},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1)],1),s("v-row",[s("router-link",{staticClass:" blue--text",attrs:{to:"/preview-sizes"}},[t._v("Preview Sizes")])],1),s("v-row",{staticClass:"pt-6"},[s("v-text-field",{attrs:{disabled:!t.addToCartButton,min:"1",rules:t.quantityRules,type:"number",label:"Quantity",dense:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("v-row",{staticClass:"mt-10"},[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"12",sm:"6"}},[s("h4",[t._v("Price: "+t._s(t.price)+" LE")])]),s("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"6"}},[t.addToCartButton?s("v-btn",{attrs:{disabled:!t.price,"max-width":"200px",color:"success"},on:{click:function(e){t.addToCart(),t.hideAddToCart()}}},[t._v("Add to cart "),s("v-icon",[t._v("mdi-cart")])],1):t._e(),t.addToCartButton?t._e():s("span",{staticClass:"secondary--text pr-2"},[t._v("Product is added to your cart!")])],1)],1)],1)],1),s("v-row",[s("v-col",{staticClass:"d-flex justify-end pt-16 pb-0",attrs:{cols:"12"}},[t.addToCartButton?t._e():s("v-btn",{attrs:{"max-width":"200px",color:"secondary"},on:{click:t.makeAnotherOrder}},[t._v("Make Another Order")])],1)],1)],1)],1)],1):t._e()},wt=[],Ct=(s("caad"),s("2532"),{name:"customized-portraits",computed:{portraitSizes:function(){return this.$store.getters.customDrawingStyles.includes(this.drawingStyle)?Object.keys(this.$store.getters.customGeneralProducts[this.drawingStyle].sizesPrices):[]},customDrawingStyles:function(){return this.$store.getters.customDrawingStyles},price:function(){var t;return this.valid&&this.size?(t=this.numberOfFaces>=1?(this.numberOfFaces-1)*this.$store.getters.facePrice:0,(this.$store.getters.customGeneralProducts[this.drawingStyle].sizesPrices[this.size]+t)*this.quantity):""}},data:function(){return{uploadedImage:null,drawingStyle:"",size:"",quantity:1,quantityRules:[function(t){return t>=1||"Quantity must be greater than 0"}],numberOfFaces:1,numberOfFacesRules:[function(t){return 0===t||!!t||"Number of people in the image is required."},function(t){return t>=0||"People number must be greater than or equal 0"}],addToCartButton:!0,valid:!1,dataFetched:!1}},methods:{selectFile:function(t){this.uploadedImage=t},addToCart:function(){if(this.$refs.form.validate(),this.valid){var t={image:this.uploadedImage,size:this.size,productCategories:["Custom",this.drawingStyle],numberOfFaces:this.numberOfFaces,quantity:this.quantity,price:this.price};this.$store.dispatch("addToCart",t)}},hideAddToCart:function(){this.addToCartButton=!1},makeAnotherOrder:function(){this.uploadedImage=null,this.imageURL="",this.drawingStyle="",this.size="",this.quantity=1,this.addToCartButton=!0,this.numberOfFaces=1}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==Object.keys(this.$store.getters.customGeneralProducts).length){t.next=5;break}return t.next=3,this.$http.get("/general-products/custom-products");case 3:e=t.sent,this.$store.dispatch("setCustomGeneralProducts",e.data.products);case 5:if(this.$store.getters.facePrice){t.next=10;break}return t.next=8,this.$http.get("/global-variables/facePrice");case 8:s=t.sent,this.$store.dispatch("setFacePrice",s.data.facePrice);case 10:this.dataFetched=!0;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),kt=Ct,Pt=(s("487a"),s("23a7")),St=s("4bd4"),Rt=s("24c9"),At=s("b974"),Vt=s("8654"),$t=Object(d["a"])(kt,_t,wt,!1,null,"005e43c2",null),Ot=$t.exports;h()($t,{VBtn:f["a"],VCard:lt["a"],VCol:I["a"],VContainer:vt["a"],VFileInput:Pt["a"],VForm:St["a"],VIcon:b["a"],VLabel:Rt["a"],VRow:ft["a"],VSelect:At["a"],VTextField:Vt["a"]});var Et={name:"Home",components:{Banner:st,OurProducts:xt,CustomizedPortraits:Ot},data:function(){return{tabIndex:0,tabs:[{title:"Our Products",component:"our-products"},{title:"Customized Portraits",component:"customized-portraits"}]}},methods:{redirect:function(t){t!==this.$route.params.component&&this.$router.push("/home/".concat(t))}},watch:{$route:function(t){var e=t.params.component;this.tabIndex=this.tabs.findIndex((function(t){return t.component===e}))}},mounted:function(){var t=this.$route.params.component;this.tabIndex=this.tabs.findIndex((function(e){return e.component===t}))}},Ft=Et,It=(s("5d78"),s("3a2f")),Tt=Object(d["a"])(Ft,H,Q,!1,null,"fcfb2eee",null),zt=Tt.exports;h()(Tt,{VBtn:f["a"],VCard:lt["a"],VContainer:vt["a"],VIcon:b["a"],VTab:gt["a"],VTabs:bt["a"],VTooltip:It["a"]});var jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-container",{staticClass:"mb-16"},[s("v-card",{staticClass:"main mb-16"},[s("v-container",[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",{staticClass:"pa-2"},[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-img",{staticClass:"portrait",attrs:{src:t.product.image,contain:"","aspect-ratio":"1","max-width":t.imageSize,"max-height":t.imageSize}})],1),s("v-col",{staticClass:"mt-10",attrs:{cols:"12",sm:"6"}},[s("h2",{staticClass:"font-weight-light mb-10"},[t._v(" "+t._s(t.product.productCategories[0])+" ")]),s("v-row",{staticClass:"mt-4"},[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"dark--text caption"},[t._v("Choose Size (width x height)cm")])])],1),s("v-col",{staticClass:"d-flex justify-center align-center sizeRow",attrs:{cols:"6"}},[s("v-select",{attrs:{disabled:!t.addToCartButton,items:t.portraitSizes,standard:"",label:"size"},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1)],1),s("v-row",[s("router-link",{staticClass:" blue--text",attrs:{to:"/preview-sizes"}},[t._v("Preview Sizes")])],1),s("v-row",{staticClass:"d-flex justify-left pt-6"},[s("v-text-field",{attrs:{disabled:!t.addToCartButton,min:"1",rules:t.quantityRules,type:"number",label:"Quantity",dense:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),s("v-row",{staticClass:"mt-10"},[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"12",sm:"6"}},[s("h4",[t._v("Price: "+t._s(t.price)+" LE")])]),s("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"6"}},[t.addToCartButton?s("v-btn",{attrs:{disabled:!t.price,"max-width":"200px",color:"success"},on:{click:function(e){t.addToCart(),t.hideAddToCart()}}},[t._v("Add to cart "),s("v-icon",[t._v("mdi-cart")])],1):t._e(),t.addToCartButton?t._e():s("span",{staticClass:"secondary--text pr-2"},[t._v("Product is added to your cart!")])],1)],1),s("v-row",[s("v-col",{staticClass:"d-flex justify-end pt-16 pb-0",attrs:{cols:"12"}},[s("v-btn",{attrs:{"max-width":"200px",color:"secondary"},on:{click:t.goBack}},[t._v("Go Back")])],1)],1)],1)],1)],1)],1)],1),s("v-tooltip",{staticStyle:{"z-index":"11"},attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-btn",t._g(t._b({staticStyle:{"z-index":"11"},attrs:{dark:"",fab:"",bottom:"",right:"",fixed:"",color:"orange",to:"/shopping-cart"}},"v-btn",a,!1),r),[s("v-icon",[t._v("mdi-cart")])],1)]}}],null,!1,1413066210)},[s("span",[t._v("View Your Shopping Cart")])])],1):t._e()},Nt=[],Dt={name:"show-product",data:function(){return{quantity:1,imageSize:300,product:null,generalProductSizesPrices:null,size:"",quantityRules:[function(t){return t>=1||"Quantity must be greater than 1"}],addToCartButton:!0,valid:!1,dataFetched:!1}},methods:{addToCart:function(){if(this.$refs.form.validate(),this.valid){var t={productID:this.product._id,skuCode:this.product.skuCode,image:this.product.image,productCategories:this.product.productCategories,size:this.size,numberOfFaces:0,quantity:this.quantity,price:this.price};this.$store.dispatch("addToCart",t)}},hideAddToCart:function(){this.addToCartButton=!1},goBack:function(){this.$router.go(-1)}},computed:{portraitSizes:function(){return Object.keys(this.generalProductSizesPrices)},price:function(){return this.valid&&!this.size?"":this.generalProductSizesPrices[this.size]*this.quantity}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/products/".concat(this.$route.params.id));case 2:if(e=t.sent,this.product=e.data.product,s=this.product.productCategories[0],0!==Object.keys(this.$store.getters.nonCustomGeneralProducts).length){t.next=14;break}return t.next=8,this.$http.get("/general-products/non-custom-products");case 8:e=t.sent,this.$store.dispatch("setNonCustomGeneralProducts",e.data.products),a=e.data.products.findIndex((function(t){return t.productName===s})),r=e.data.products[a].sizesPrices,t.next=15;break;case 14:r=this.$store.getters.nonCustomGeneralProducts[s].sizesPrices;case 15:this.generalProductSizesPrices=r,this.dataFetched=!0;case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Lt=Dt,Mt=(s("1d62"),Object(d["a"])(Lt,jt,Nt,!1,null,"c219cf14",null)),Gt=Mt.exports;h()(Mt,{VBtn:f["a"],VCard:lt["a"],VCol:I["a"],VContainer:vt["a"],VForm:St["a"],VIcon:b["a"],VImg:y["a"],VLabel:Rt["a"],VRow:ft["a"],VSelect:At["a"],VTextField:Vt["a"],VTooltip:It["a"]});var Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-card",{staticClass:"main d-flex justify-center flex-column mt-10 mb-16"},[s("v-card-title",{staticClass:"d-block text-center pt-8 secondary--text"},[s("span",{staticClass:"login"},[t._v("Login")])]),s("v-container",[s("v-row",{staticClass:"d-flex justify-center"},[s("v-col",{attrs:{cols:"6"}},[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{rules:t.passwordRules,label:"Password",type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-btn",{staticClass:"my-4",attrs:{color:"secondary"},on:{click:t.login}},[t._v("Login")]),t.loginFail?s("v-alert",{attrs:{type:"error"}},[t._v("Wrong email or password")]):t._e()],1)],1)],1)],1)],1)],1)},Jt=[],Bt={name:"login",data:function(){return{valid:!1,loginFail:null,email:"",password:"",showPassword:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>8||"Password length must be 8-50 characters"}]}},methods:{login:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.form.validate(),!this.valid){t.next=12;break}return t.prev=2,t.next=5,this.$http.post("/authentication/login",{email:this.email,password:this.password});case 5:e=t.sent,200===e.status?(localStorage.setItem("auth_jwt",e.data.token),this.$store.dispatch("setUser",e.data.user),this.$store.dispatch("setAuthJwt",e.data.token),this.$store.dispatch("setLoggedInStatus",!0),this.$router.push("/home")):this.loginFail=!0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),this.loginFail=!0;case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(){return t.apply(this,arguments)}return e}()},beforeMount:function(){this.$store.getters.loggedIn&&this.$router.push("/home")}},Ut=Bt,qt=(s("83c6"),s("0798")),Yt=s("99d9"),Ht=Object(d["a"])(Ut,Wt,Jt,!1,null,"297a1756",null),Qt=Ht.exports;h()(Ht,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCardTitle:Yt["b"],VCol:I["a"],VContainer:vt["a"],VForm:St["a"],VRow:ft["a"],VTextField:Vt["a"]});var Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"mb-16"},[s("v-card",{staticClass:"main d-flex justify-center flex-column mt-10 mb-16"},[s("v-card-title",{staticClass:"d-block text-center pt-8 secondary--text"},[s("span",{staticClass:"signup"},[t._v("Signup")])]),s("v-container",[s("v-row",{staticClass:"d-flex justify-center"},[s("v-col",{attrs:{cols:"8"}},[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{label:"Name",rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("v-container",{staticClass:"my-2",staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[s("v-label",[t._v("Phone Number")]),s("v-text-field",{attrs:{label:"First Phone Number (Required)",prefix:"+2",placeholder:"011122333",rules:t.mainPhoneRules},model:{value:t.phone1,callback:function(e){t.phone1=e},expression:"phone1"}}),s("v-text-field",{attrs:{label:"Second Phone Number",prefix:"+2",placeholder:"011122333",rules:t.phoneRules},model:{value:t.phone2,callback:function(e){t.phone2=e},expression:"phone2"}}),s("v-text-field",{attrs:{label:"Third Phone Number",prefix:"+2",placeholder:"011122333",rules:t.phoneRules},model:{value:t.phone3,callback:function(e){t.phone3=e},expression:"phone3"}})],1),s("v-container",{staticClass:"my-2",staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[s("v-label",{staticClass:"font-weight-light"},[t._v("Home Address")]),s("p",{staticClass:"caption"},[t._v(" Please write in Arabic and add any useful details. ")]),s("v-textarea",{attrs:{rules:t.addressRules,filled:"",label:"Detailed Address For Shipping",rows:"4",counter:"1000"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),s("v-text-field",{attrs:{label:"City"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),s("v-text-field",{attrs:{label:"Street Name/Number"},model:{value:t.street,callback:function(e){t.street=e},expression:"street"}}),s("v-text-field",{attrs:{label:"Appartment/Suite number, ..etc",hint:"Write your appartment number."},model:{value:t.appartment,callback:function(e){t.appartment=e},expression:"appartment"}})],1),s("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{rules:t.passwordRules,label:"Password",type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-text-field",{attrs:{"error-messages":t.passwordCheckErrors,label:"Rewrite Password",rules:t.passwordCheckRules,type:t.showPasswordCheck?"text":"password","append-icon":t.showPasswordCheck?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPasswordCheck=!t.showPasswordCheck}},model:{value:t.passwordCheck,callback:function(e){t.passwordCheck=e},expression:"passwordCheck"}}),s("v-btn",{staticClass:"my-4",attrs:{color:"secondary"},on:{click:t.signup}},[t._v("Signup")]),t.signupFail?s("v-alert",{attrs:{type:"error"}},[t._v("Could not signup. Please try again.")]):t._e()],1)],1)],1)],1)],1)],1)},Zt=[],Xt=(s("a630"),s("6062"),s("3ca3"),s("ddb0"),{name:"signup",data:function(){return{valid:!1,signupFail:null,name:"",phone1:"",phone2:"",phone3:"",address:"",city:"",street:"",appartment:"",email:"",password:"",passwordCheck:"",showPassword:!1,showPasswordCheck:!1,nameRules:[function(t){return!!t||"Name is required"},function(t){return/^[\u0600-\u065F\u066A-\u06EF\u06FA-\u06FF]+[\u0600-\u065F\u066A-\u06EF\u06FA-\u06FF- ]*$|^[a-zA-Z]+[a-zA-Z-' ]*$/.test(t)||"Must use English or Arabic letters and special characters(space, ',  -)"},function(t){return(t&&t.length)<=50||"Must not exceed 50 characters"}],phoneRules:[function(t){return/^$|^(01)[0-9]{9}$/.test(t)||"Wrong phone format"}],addressRules:[function(t){return!!t||"Address is required"}],mainPhoneRules:[function(t){return!!t||"Phone number is required"},function(t){return/^(01)[0-9]{9}$/.test(t)||"Wrong phone format"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>8||"Password length must be 8-50 characters"}],passwordCheckRules:[function(t){return!!t||"Password check is required"}]}},computed:{passwordCheckErrors:function(){return this.passwordCheck!==this.password?["Passwords don't match"]:[]}},methods:{signup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.form.validate(),!this.valid){t.next=15;break}return t.prev=2,e=new Set([this.phone1]),this.phone2&&e.add(this.phone2),this.phone3&&e.add(this.phone3),t.next=8,this.$http.post("/authentication/signup",{name:this.name,phoneNumbers:Array.from(e),addresses:["المدينة:".concat(this.city||"لم يذكر",". \nالشارع:").concat(this.street||"لم يذكر",". \nالشقة:").concat(this.appartment||"لم يذكر",". \nالعنوان بالتحديد: ").concat(this.address,".")],email:this.email,password:this.password});case 8:s=t.sent,200===s.status?(localStorage.setItem("auth_jwt",s.data.token),this.$store.dispatch("setUser",s.data.user),this.$store.dispatch("setAuthJwt",s.data.token),this.$store.dispatch("setLoggedInStatus",!0),this.$router.push("/home")):this.signupFail=!0,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),this.signupFail=!0;case 15:case"end":return t.stop()}}),t,this,[[2,12]])})));function e(){return t.apply(this,arguments)}return e}()},beforeMount:function(){this.$store.getters.loggedIn&&this.$router.push("/home")}}),te=Xt,ee=(s("35d6"),s("a844")),se=Object(d["a"])(te,Kt,Zt,!1,null,"98b89e3c",null),re=se.exports;h()(se,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCardTitle:Yt["b"],VCol:I["a"],VContainer:vt["a"],VForm:St["a"],VLabel:Rt["a"],VRow:ft["a"],VTextField:Vt["a"],VTextarea:ee["a"]});var ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-container",{class:t.$vuetify.breakpoint.xsOnly?"pa-0":"",attrs:{fluid:t.$vuetify.breakpoint.xsOnly}},[s("banner"),s("v-container",{class:t.$vuetify.breakpoint.xsOnly?"pa-0 pb-16":"pb-16"},[s("h1",{staticClass:"text-center secondary--text my-10 font-weight-regular"},[t._v(" Admin Dashboard ")]),s("v-navigation-drawer",{staticClass:"myNav",attrs:{dark:"",app:"","hide-overlay":"",permanent:"","mini-variant":"","expand-on-hover":""}},[s("v-list-item",{attrs:{to:"#"},on:{click:function(e){t.currentComponent=t.navbarTabs[0].component}}},[s("v-list-item-icon",[s("v-icon",{staticClass:"secondary--text"},[t._v("mdi-home")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"white--text"},[t._v("Admin Dashboard")])],1)],1),s("v-divider"),s("v-list",{attrs:{nav:"",dense:""}},t._l(t.navbarTabs,(function(e){return s("v-list-item",{key:e.title,attrs:{link:""},on:{click:function(s){t.currentComponent=e.component}}},[s("v-list-item-icon",{staticClass:"primary--text"},[s("v-icon",{staticClass:"secondary--text"},[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"white--text"},[t._v(t._s(e.title))])],1)],1)})),1)],1),s("v-container",{staticClass:"d-flex flex-column justify-center",class:t.$vuetify.breakpoint.xsOnly?"pa-0":"",attrs:{fluid:t.$vuetify.breakpoint.xsOnly}},[s(t.currentComponent,{tag:"component"})],1)],1)],1):t._e()},ne=[],oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-card",{staticClass:"main",attrs:{tile:"",flat:""}},[s("h2",{staticClass:"text-center py-10 secondary--text"},[t._v("Our Products")]),s("v-container",{staticClass:"d-flex flex-column align-content-space-around"},[s("v-row",{staticClass:"d-flex flex-row"},[s("v-col",{staticClass:"pl-4 d-flex flex-grow-0 flex-shrink-1",attrs:{cols:"3",sm:"6"}},[s("v-btn",{staticClass:"success",attrs:{small:""},on:{click:function(e){t.showAddNewProductWindow=!0}}},[t._v(" Add New Product "),s("v-icon",[t._v("mdi-plus")])],1)],1)],1),s("v-tabs",{staticClass:"secondary--text main",attrs:{"show-arrows":"","background-color":"white",centered:"",dark:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabs,(function(e){return s("v-tab",{key:e.category,staticClass:"secondary--text main",on:{click:function(s){return t.getProducts(e.category,1)}}},[t._v(" "+t._s(e.title)+" ")])})),1),s("v-row",[s("v-col",{class:t.$vuetify.breakpoint.xsOnly?"pa-0":"pa-4",attrs:{cols:"12"}},[s("v-pagination",{attrs:{length:t.pagesCount,"total-visible":t.$vuetify.breakpoint.smAndDown?3:t.pagesCount,circle:"",color:"secondary",dark:""},on:{input:function(e){return t.getProducts(t.currentCategory,t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1),t._l(Math.floor(t.productsCount/t.elementsPerRow),(function(e){return s("v-row",{key:e,staticClass:"d-flex flex-row justify-space-around"},t._l(t.elementsPerRow,(function(r){return s("v-col",{key:r,staticClass:"d-flex flex-column flex-grow-0 mt-4"},[s("v-container",{staticClass:"pa-0"},[s("v-row",{staticClass:"pa-0 mx-0"},[s("v-col",{staticClass:"pa-0",attrs:{cols:"5"}},[s("v-btn",{staticClass:"red--text",on:{click:function(s){t.showDeleteAssertionWindow=!0,t.productToDeleteID=t.products[(e-1)*t.elementsPerRow+(r-1)]._id}}},[t._v(" Remove "),s("v-icon",[t._v("mdi-delete")])],1)],1),s("v-col",{attrs:{cols:"2"}}),s("v-col",{staticClass:"pa-0",attrs:{cols:"5"}},[s("v-btn",{staticClass:"secondary--text",on:{click:function(s){t.showEditProductWindow=!0,t.productToEdit=t.products[(e-1)*t.elementsPerRow+(r-1)]}}},[t._v(" Edit "),s("v-icon",[t._v("mdi-pencil")])],1)],1)],1)],1),s("product-card",{attrs:{prices:t.generalProductPrices,title:t.tabs[t.tabIndex].title+"-"+t.products[(e-1)*t.elementsPerRow+(r-1)].skuCode,imageSrc:t.products[(e-1)*t.elementsPerRow+(r-1)].image}})],1)})),1)})),s("v-row",{staticClass:"d-flex flex-row justify-space-around"},t._l(t.productsCount-Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow,(function(e){return s("v-col",{key:e,staticClass:"d-flex flex-column flex-grow-0 mt-4"},[s("v-container",{staticClass:"pa-0"},[s("v-row",{staticClass:"pa-0 mx-0"},[s("v-col",{staticClass:"pa-0",attrs:{cols:"5"}},[s("v-btn",{staticClass:"red--text",on:{click:function(s){t.showDeleteAssertionWindow=!0,t.productToDeleteID=t.products[Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow+(e-1)]._id}}},[t._v(" Remove "),s("v-icon",[t._v("mdi-delete")])],1)],1),s("v-col",{attrs:{cols:"2"}}),s("v-col",{staticClass:"pa-0",attrs:{cols:"5"}},[s("v-btn",{staticClass:"secondary--text",on:{click:function(s){t.showEditProductWindow=!0,t.productToEdit=t.products[Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow+(e-1)]}}},[t._v(" Edit "),s("v-icon",[t._v("mdi-pencil")])],1)],1)],1)],1),s("product-card",{attrs:{prices:t.generalProductPrices,title:t.tabs[t.tabIndex].title+"-"+t.products[Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow+(e-1)].skuCode,imageSrc:t.products[Math.floor(t.productsCount/t.elementsPerRow)*t.elementsPerRow+(e-1)].image}})],1)})),1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-pagination",{attrs:{length:t.pagesCount,"total-visible":t.$vuetify.breakpoint.smAndDown?3:t.pagesCount,circle:"",color:"secondary",dark:""},on:{input:function(e){return t.getProducts(t.currentCategory,t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],2),t.showAddNewProductWindow?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeAddNewProductWindow}},[s("v-icon",[t._v("mdi-close")])],1),s("admin-add-product")],1)]):t._e(),t.showEditProductWindow?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeEditProductWindow}},[s("v-icon",[t._v("mdi-close")])],1),s("admin-edit-product",{attrs:{productID:t.productToEdit._id,skuCodeProp:t.productToEdit.skuCode},on:{"product-updated":function(e){return t.updateProduct(e)}}})],1)]):t._e(),t.showDeleteAssertionWindow?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDeleteAssertionWindow,expression:"closeDeleteAssertionWindow"}],staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeDeleteAssertionWindow}},[s("v-icon",[t._v("mdi-close")])],1),"none"===t.deletedSuccessfully?[s("p",[t._v("Are you sure you want to delete this product?")]),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"error"},on:{click:function(e){t.showDeleteAssertionWindow=!1}}},[t._v(" No ")])],1),s("v-col",{attrs:{cols:"4"}}),s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"success"},on:{click:t.deleteProduct}},[t._v(" Yes ")])],1)],1)]:t._e(),"fail"===t.deletedSuccessfully?s("v-alert",{attrs:{type:"error"}},[t._v("Error. product cannot be deleted. Please try again.")]):t._e(),"success"===t.deletedSuccessfully?s("v-alert",{attrs:{type:"success"}},[t._v("Deleted successfully.")]):t._e()],2)]):t._e()],1):t._e()},ie=[],ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"main",attrs:{light:""}},[s("h2",{staticClass:"text-center py-10 secondary--text"},[t._v("Add New Product")]),s("v-container",{staticClass:"d-flex flex-column align-content-space-around pa-10"},[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{cols:"10"}},[s("v-row",[s("p",{staticClass:"font-weight-light secondary--text"},[t._v(" Upload Product Image ")])]),s("v-row",[s("v-file-input",{attrs:{dense:"",accept:"image/*",label:"Select From Device...",rules:t.fileRules},on:{change:t.selectFile}})],1),s("v-row",{staticClass:"py-2"},[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"black--text caption"},[t._v("Product skuCode")])])],1),s("v-col",{staticClass:"d-flex justify-center align-center sizeRow",attrs:{cols:"6"}},[s("v-text-field",{attrs:{rules:t.productSkuCodeRules},model:{value:t.productSkuCode,callback:function(e){t.productSkuCode=e},expression:"productSkuCode"}})],1)],1),s("v-row",{staticClass:"py-2"},[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"black--text caption"},[t._v("Choose Category")])])],1),s("v-col",{staticClass:"d-flex justify-center align-center sizeRow",attrs:{cols:"6"}},[s("v-select",{attrs:{dense:"","single-line":"",items:t.categories,standard:"",label:"style",rules:t.categoryRules},model:{value:t.productCategory,callback:function(e){t.productCategory=e},expression:"productCategory"}})],1)],1),s("v-row",{staticClass:"mt-10"},[s("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"6"}},[s("v-btn",{attrs:{"max-width":"200px",color:"success"},on:{click:t.addProduct}},[t._v("Add")])],1)],1),s("v-row",{staticClass:"mt-10"},[s("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"6"}},["fail"===t.responseResult?s("v-alert",{attrs:{type:"error"}},[t._v("Failed to make the product. Please check that the SKU code is unique (Not the same as another product) and try again.")]):t._e(),"success"===t.responseResult?s("v-alert",{attrs:{type:"success"}},[t._v("Product is added successfully.")]):t._e()],1)],1)],1)],1)],1)],1)],1)},le=[],ue={name:"admin-add-product",computed:{categories:function(){return this.$store.getters.categories}},data:function(){return{uploadedImage:void 0,responseResult:"none",productCategory:"",productSkuCode:"",productSkuCodeRules:[function(t){return!!t||"Product code is required"},function(t){return t&&t.length<=20||"Product code must not exceed 20 characters"}],fileRules:[function(t){return!!t||"Select a file."}],categoryRules:[function(t){return!!t||"Choose a category."}],valid:!1}},methods:{selectFile:function(t){this.uploadedImage=t},addProduct:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.form.validate(),this.valid){t.next=3;break}return t.abrupt("return");case 3:return e=new FormData,e.append("image",this.uploadedImage),e.append("productCategories",[this.productCategory]),e.append("skuCode",this.productSkuCode),t.prev=7,t.next=10,this.$http.post("/products",e,{headers:{"Content-Type":"multipart/form-data",Authorization:this.$store.getters.adminAuthJwt}});case 10:s=t.sent,200===s.status?this.responseResult="success":this.responseResult="fail",t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](7),this.responseResult="fail";case 17:case"end":return t.stop()}}),t,this,[[7,14]])})));function e(){return t.apply(this,arguments)}return e}()}},de=ue,pe=(s("29c1"),Object(d["a"])(de,ce,le,!1,null,"501845a2",null)),he=pe.exports;h()(pe,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCol:I["a"],VContainer:vt["a"],VFileInput:Pt["a"],VForm:St["a"],VLabel:Rt["a"],VRow:ft["a"],VSelect:At["a"],VTextField:Vt["a"]});var ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"main",attrs:{light:""}},[s("h2",{staticClass:"text-center pt-10 secondary--text"},[t._v("Edit Product")]),s("p",{staticClass:"text-center secondary--text"},[t._v("SKU code: "+t._s(t.skuCodeProp))]),s("p",{staticClass:"text-center pb-8 secondary--text"},[t._v("_id: "+t._s(t.productID))]),s("v-container",{staticClass:"d-flex flex-column align-content-space-around pa-10"},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",[s("p",{staticClass:"font-weight-light secondary--text"},[t._v(" Edit Fields ")])]),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"black--text caption"},[t._v("Product Image")])])],1),s("v-col",{attrs:{cols:"6"}},[s("v-file-input",{attrs:{dense:"",accept:"image/*",label:"Select From Device..."},on:{change:t.selectFile}})],1)],1),s("v-row",{staticClass:"py-2"},[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"black--text caption"},[t._v("Product SKU Code")])])],1),s("v-col",{staticClass:"d-flex justify-center align-center sizeRow",attrs:{cols:"6"}},[s("v-text-field",{model:{value:t.skuCode,callback:function(e){t.skuCode=e},expression:"skuCode"}})],1)],1),s("v-row",{staticClass:"py-2"},[s("v-col",{staticClass:"d-flex justify-left align-center pa-0",attrs:{cols:"6"}},[s("v-label",[s("span",{staticClass:"black--text text caption"},[t._v("Choose Category")])])],1),s("v-col",{staticClass:"d-flex justify-center align-center sizeRow",attrs:{cols:"6"}},[s("v-select",{attrs:{dense:"","single-line":"",items:t.categories,standard:"",label:"style"},model:{value:t.productCategory,callback:function(e){t.productCategory=e},expression:"productCategory"}})],1)],1),s("v-row",{staticClass:"mt-10"},[s("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"6"}},[s("v-btn",{attrs:{"max-width":"200px",color:"success"},on:{click:t.applyChanges}},[t._v("Apply Changes")])],1)],1)],1)],1)],1),"success"===t.responseResult?s("v-alert",{attrs:{type:"success"}},[t._v("Updated successfully")]):t._e(),"fail"===t.responseResult?s("v-alert",{attrs:{type:"error"}},[t._v("Failed to update the product. Please check that the SKU code is unique (Not the same as another product) and try again.")]):t._e()],1)],1)},me=[],fe={name:"admin-edit-product",props:["productID","skuCodeProp"],computed:{categories:function(){return this.$store.getters.categories}},data:function(){return{valid:!1,responseResult:"none",uploadedImage:null,productCategory:"",skuCode:"",skuCodeRules:[function(t){return t&&t.length<=20||"SKU code must not exceed 20 characters."}]}},methods:{selectFile:function(t){this.uploadedImage=t},applyChanges:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.skuCode.length>20&&(this.responseResult="fail"),e=new FormData,null!==this.uploadedImage&&e.append("image",this.uploadedImage),0!==this.skuCode.length&&e.append("skuCode",this.skuCode),0!==this.productCategory.length&&e.append("productCategories",[this.productCategory]),t.prev=5,t.next=8,this.$http.patch("/products/".concat(this.productID),e,{"Content-Type":"multipart/form-data",headers:{Authorization:this.$store.getters.adminAuthJwt}});case 8:s=t.sent,200===s.status?(this.responseResult="success",this.$emit("product-updated",s.data.product)):this.responseResult="fail",t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),this.responseResult="fail";case 15:case"end":return t.stop()}}),t,this,[[5,12]])})));function e(){return t.apply(this,arguments)}return e}()}},ge=fe,be=(s("b6a6"),Object(d["a"])(ge,ve,me,!1,null,"5ee94548",null)),ye=be.exports;h()(be,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCol:I["a"],VContainer:vt["a"],VFileInput:Pt["a"],VForm:St["a"],VLabel:Rt["a"],VRow:ft["a"],VSelect:At["a"],VTextField:Vt["a"]});var xe={name:"admin-products",components:{ProductCard:dt,AdminAddProduct:he,AdminEditProduct:ye},watch:{},data:function(){return{dataFetched:!1,productsCount:0,elementsPerRow:3,page:1,pagesCount:1,productToEdit:null,productToDeleteID:null,deletedSuccessfully:"none",tabIndex:0,tabs:[{title:"Decoration Tableau",category:"Decoration tableau"},{title:"Mersal",category:"Mersal"},{title:"Wood Carving",category:"Wood carving"}],showAddNewProductWindow:!1,showEditProductWindow:!1,showDeleteAssertionWindow:!1,generalProductPrices:[],products:[]}},computed:{currentCategory:function(){return this.tabs[this.tabIndex].category}},methods:{deleteProduct:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.delete("/products/".concat(this.productToDeleteID),{headers:{Authorization:this.$store.getters.adminAuthJwt}});case 3:if(e=t.sent,200!==e.status){t.next=11;break}return this.deletedSuccessfully="success",t.next=8,this.getProducts(this.currentCategory,1);case 8:this.productToDeleteID=null,t.next=12;break;case 11:this.deletedSuccessfully="fail";case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),this.deletedSuccessfully="fail";case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(){return t.apply(this,arguments)}return e}(),getProducts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=2,t.next=3,this.$http.get("/products?productCategories=".concat(e,"&page=").concat(s,"&limit=").concat(r));case 3:if(a=t.sent,this.pagesCount=Math.ceil(a.data.totalSize/r),this.productsCount=a.data.size,this.products=a.data.products,0!==Object.keys(this.$store.getters.nonCustomGeneralProducts).length){t.next=16;break}return t.next=10,this.$http.get("/general-products/non-custom-products");case 10:a=t.sent,this.$store.dispatch("setNonCustomGeneralProducts",a.data.products),o=a.data.products.findIndex((function(t){return t.productName===e})),n=Object.values(a.data.products[o].sizesPrices),t.next=17;break;case 16:n=Object.values(this.$store.getters.nonCustomGeneralProducts[e].sizesPrices);case 17:this.generalProductPrices=n,this.page=s;case 19:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),updateProduct:function(t){console.log("here");var e=this.products.findIndex((function(e){return e._id===t._id}));e>0&&(console.log("there"),this.products[e]=t)},closeDeleteAssertionWindow:function(){this.showDeleteAssertionWindow=!1,this.deletedSuccessfully="none"},closeAddNewProductWindow:function(){this.showAddNewProductWindow=!1},closeEditProductWindow:function(){this.showEditProductWindow=!1}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getProducts("Decoration tableau",this.page);case 2:this.dataFetched=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},_e=xe,we=(s("bb76"),s("a797")),Ce=s("269a"),ke=s.n(Ce),Pe=s("a293"),Se=Object(d["a"])(_e,oe,ie,!1,null,"2345f924",null),Re=Se.exports;h()(Se,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCol:I["a"],VContainer:vt["a"],VIcon:b["a"],VOverlay:we["a"],VPagination:mt["a"],VRow:ft["a"],VTab:gt["a"],VTabs:bt["a"]}),ke()(Se,{ClickOutside:Pe["a"]});var Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-card",{staticClass:"main mb-16"},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",[s("tr",[s("td",[t._v(" Total orders ")]),s("td",[t._v(" "+t._s(t.totalCount)+" ")])]),s("tr",[s("td",[t._v(" Total unseen orders ")]),s("td",[t._v(" "+t._s(t.unseenCount)+" ")])]),s("tr",[s("td",[t._v(" Total seen orders: ")]),s("td",[t._v(" "+t._s(t.totalCount-t.unseenCount)+" ")])]),s("tr",[s("td",[t._v(" Total undelivered orders: ")]),s("td",[t._v(" "+t._s(t.undeliveredCount)+" ")])]),s("tr",[s("td",[t._v(" Total delivered orders: ")]),s("td",[t._v(" "+t._s(t.totalCount-t.undeliveredCount)+" ")])])])]},proxy:!0}],null,!1,3699674137)})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-pagination",{attrs:{length:t.pagesCount,"total-visible":t.$vuetify.breakpoint.smAndDown?3:t.pagesCount,circle:"",color:"secondary",dark:""},on:{input:function(e){t.getOrders(t.page),t.disableAllLists()}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1),s("v-list",{staticClass:"main"},t._l(t.orders,(function(e,r){return s("v-list-group",{key:e._id,attrs:{dark:""},on:{click:function(s){return t.handleSeen(e)}},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s("Order: "+e.code)}}),s("div",{staticClass:"text-right"},[e.delivered?s("v-chip",{attrs:{small:"",color:"success",width:"100"}},[t._v("Delivered")]):t._e(),t.hasACustomOrder(e)?s("v-chip",{attrs:{small:"",color:"yellow",width:"100"}},[t._v("Has Custom Order(s)")]):t._e(),e.seen?s("v-chip",{attrs:{small:"",color:"blue",width:"100"}},[t._v("Seen")]):t._e(),s("v-btn",{staticClass:"black red--text",attrs:{small:""},on:{click:function(e){t.showDeleteAssertionWindow=!0,t.orderToDeleteIndex=r}}},[t._v(" Delete Order "),s("v-icon",[t._v("mdi-delete")])],1)],1)],1)]},proxy:!0}],null,!0),model:{value:t.ordersListsEnable[r],callback:function(e){t.$set(t.ordersListsEnable,r,e)},expression:"ordersListsEnable[i]"}},[s("v-list-item",[s("v-list-item-content",[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",[s("tr",[s("td",[t._v("Order code")]),s("td",[t._v(" "+t._s(e.code)+" ")])]),s("tr",[s("td",[t._v("Date")]),s("td",[t._v(" "+t._s(new Date(e.date).toString())+" ")])]),s("tr",[s("td",[t._v("Name")]),s("td",[t._v(" "+t._s(e.customerName)+" ")])]),s("tr",[s("td",[t._v("Shipping Method")]),s("td",[t._v(" "+t._s(e.shippingMethod)+" ")])]),s("tr",[s("td",[t._v("Address")]),s("td",[t._v(" "+t._s(e.customerAddress)+" ")])]),s("tr",[s("td",[t._v("Phone Numbers")]),s("td",t._l(e.customerPhoneNumbers,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),s("tr",[s("td",[t._v("Products")]),s("td",t._l(e.products,(function(e,r){return s("tr",{key:r,staticClass:"d-block"},[s("v-simple-table",[s("tbody",[s("tr",[s("td",[s("h3",[t._v("["+t._s(r+1)+"]")])]),s("td")]),t.isCustomProduct(e)?[s("v-chip",{attrs:{small:"",color:"yellow",width:"100"}},[t._v("Custom Order")]),s("tr",[s("td",[t._v("Product Image")]),s("td",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("v-img",{staticClass:"image-class",attrs:{src:e.image,height:t.imageSize,width:t.imageSize}})],1)])]),s("tr",[s("td",[t._v("Size")]),s("td",[t._v(t._s(e.size))])]),s("tr",[s("td",[t._v("Number of people/faces")]),s("td",[t._v(t._s(e.numberOfFaces))])]),s("tr",[s("td",[t._v("Quantity")]),s("td",[t._v(t._s(e.quantity))])]),s("tr",[s("td",[t._v("Product Categories")]),s("td",t._l(e.productCategories,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),s("tr",[s("td",[t._v("Price")]),s("td",[t._v(t._s(e.price))])])]:[s("tr",[s("td",[t._v("Product SKU code")]),s("td",[t._v(t._s(e.skuCode))])]),s("tr",[s("td",[t._v("Product ID")]),s("td",[t._v(t._s(e.productID))])]),s("tr",[s("td",[t._v("Product Image")]),s("td",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("v-img",{staticClass:"image-class",attrs:{src:e.image,height:t.imageSize,width:t.imageSize}})],1)])]),s("tr",[s("td",[t._v("Size")]),s("td",[t._v(t._s(e.size))])]),s("tr",[s("td",[t._v("Number of people/faces")]),s("td",[t._v(t._s(e.numberOfFaces))])]),s("tr",[s("td",[t._v("Quantity")]),s("td",[t._v(t._s(e.quantity))])]),s("tr",[s("td",[t._v("Product Categories")]),s("td",t._l(e.productCategories,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),s("tr",[s("td",[t._v("Price")]),s("td",[t._v(t._s(e.price))])])]],2)])],1)})),0)]),s("tr",[s("td",[t._v("User")]),s("td",[e.userID?s("span",[t._v(" User is registered in our system with ID: "+t._s(e.userID))]):s("span",[t._v(" User is not registered in our system")])])]),s("tr",[s("td",[t._v("Shipping Fees")]),s("td",[t._v(" "+t._s(e.shippingFees)+" ")])]),s("tr",[s("td",[t._v("Total price")]),s("td",[t._v(" "+t._s(t.totalPrice(r))+" ")])])])]},proxy:!0}],null,!0)}),e.delivered?t._e():s("v-btn",{attrs:{color:"success",small:""},on:{click:function(s){return t.setDelivered(e)}}},[t._v("Mark As delivered")])],1)],1)],1)})),1),t.showDeleteAssertionWindow?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDeleteAssertionWindow,expression:"closeDeleteAssertionWindow"}],staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeDeleteAssertionWindow}},[s("v-icon",[t._v("mdi-close")])],1),"none"===t.deletedSuccessfully?[s("p",[t._v("Are you sure you want to delete this order?")]),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"error"},on:{click:function(e){t.showDeleteAssertionWindow=!1}}},[t._v(" No ")])],1),s("v-col",{attrs:{cols:"4"}}),s("v-col",{attrs:{cols:"4"}},[s("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.deleteOrder()}}},[t._v(" Yes ")])],1)],1)]:t._e(),"fail"===t.deletedSuccessfully?s("v-alert",{attrs:{type:"error"}},[t._v("Error. order cannot be deleted. Please try again.")]):t._e(),"success"===t.deletedSuccessfully?s("v-alert",{attrs:{type:"success"}},[t._v("Deleted successfully.")]):t._e()],2)]):t._e(),t.showSeenError?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSeenErrorWindow,expression:"closeSeenErrorWindow"}],staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeSeenErrorWindow}},[s("v-icon",[t._v("mdi-close")])],1),s("v-alert",{attrs:{type:"error"}},[t._v("Error. Could not set seen status. Please try again.")])],1)]):t._e(),t.showDeliveredError?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDeliveredErrorWindow,expression:"closeDeliveredErrorWindow"}],staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeDeliveredErrorWindow}},[s("v-icon",[t._v("mdi-close")])],1),s("v-alert",{attrs:{type:"error"}},[t._v("Error. Could not set delivered status. Please try again.")])],1)]):t._e()],1):t._e()},Ve=[],$e=(s("4160"),s("159b"),{name:"admin-orders",data:function(){return{dataFetched:!1,page:1,pagesCount:null,totalCount:null,ordersCount:null,unseenCount:null,undeliveredCount:null,ordersListsEnable:void 0,orders:[],imageSize:200,deletedSuccessfully:"none",showDeleteAssertionWindow:!1,orderToDeleteIndex:null,showSeenError:!1,showDeliveredError:!1}},methods:{totalPrice:function(t){var e=0;return this.orders[t].products.forEach((function(t){e+=t.price})),e+this.orders[t].shippingFees},handleSeen:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.patch("/orders/".concat(e._id,"/seen"),{},{headers:{Authorization:this.$store.getters.adminAuthJwt}});case 3:s=t.sent,200===s.status?e.seen=!0:this.showSeenError=!0,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.showSeenError=!0;case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),setDelivered:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.patch("/orders/".concat(e._id,"/delivered"),{},{headers:{Authorization:this.$store.getters.adminAuthJwt}});case 3:s=t.sent,200===s.status?e.delivered=!0:this.showDeliveredError=!0,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.showDeliveredError=!0;case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),hasACustomOrder:function(t){for(var e=0;e<t.products.length;e++)if(t.products[e].productCategories.includes("Custom"))return!0;return!1},isCustomProduct:function(t){return!!t.productCategories.includes("Custom")},getOrders:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=2,t.next=3,this.$http.get("/orders?sort=-date&page=".concat(e,"&limit=").concat(s),{headers:{Authorization:this.$store.getters.adminAuthJwt}});case 3:r=t.sent,this.pagesCount=Math.ceil(r.data.totalSize/s),this.totalCount=r.data.totalSize,this.ordersCount=r.data.size,this.unseenCount=r.data.totalUnseen,this.undeliveredCount=r.data.totalUndelivered,this.orders=r.data.orders,this.page=e;case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteOrder:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.delete("/orders/".concat(this.orders[this.orderToDeleteIndex]._id),{headers:{Authorization:this.$store.getters.adminAuthJwt}});case 3:if(e=t.sent,200!==e.status){t.next=10;break}return this.deletedSuccessfully="success",t.next=8,this.getOrders(1);case 8:t.next=11;break;case 10:this.deletedSuccessfully="fail";case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.deletedSuccessfully="fail";case 16:this.orderToDeleteIndex=null;case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}(),closeDeleteAssertionWindow:function(){this.showDeleteAssertionWindow=!1,this.deletedSuccessfully="none"},closeSeenErrorWindow:function(){this.showSeenError=!1},closeDeliveredErrorWindow:function(){this.showDeliveredError=!1},disableAllLists:function(){for(var t=0;t<this.ordersListsEnable.length;t++)this.ordersListsEnable[t]=!1}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getOrders(this.page);case 2:this.ordersListsEnable=new Array(this.orders.length),this.disableAllLists(),this.dataFetched=!0;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),Oe=$e,Ee=(s("5ed5"),s("cc20")),Fe=s("56b0"),Ie=s("1f4f"),Te=Object(d["a"])(Oe,Ae,Ve,!1,null,"19fcccfc",null),ze=Te.exports;h()(Te,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VChip:Ee["a"],VCol:I["a"],VContainer:vt["a"],VIcon:b["a"],VImg:y["a"],VList:x["a"],VListGroup:Fe["a"],VListItem:_["a"],VListItemContent:C["a"],VListItemTitle:C["b"],VOverlay:we["a"],VPagination:mt["a"],VRow:ft["a"],VSimpleTable:Ie["a"]}),ke()(Te,{ClickOutside:Pe["a"]});var je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-card",{staticClass:"main",attrs:{light:""}},[s("h2",{staticClass:"text-center py-10 secondary--text"},[t._v("Edit Products Prices")]),s("v-container",{staticClass:"d-flex flex-column align-content-space-around pa-10"},[s("p",{staticClass:"text-center red--text",staticStyle:{border:"solid 2px red"}},[t._v(" Warning: You have to make sure all the prices are set correctly before you submit! ")]),s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-container",[s("v-row",[s("h3",{staticClass:"secondary--text"},[t._v(" Custom Drawing Sizes Prices ")])]),t._l(Object.keys(t.customGeneralProducts),(function(e,r){return s("v-container",{key:r},[s("v-row",[s("h4",{staticClass:"secondary--text"},[t._v(t._s(e))])]),t._l(Object.entries(t.customGeneralProducts[e].sizesPrices),(function(r,a){return s("v-row",{key:a},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-label",[t._v(t._s(r[0])+":")]),s("v-text-field",{attrs:{"single-line":"",filled:"",suffix:"LE",rules:t.numberRules,type:"number"},model:{value:t.modifiedCustomGeneralProducts[e].sizesPrices[r[0]],callback:function(s){t.$set(t.modifiedCustomGeneralProducts[e].sizesPrices,r[0],t._n(s))},expression:"\n                      modifiedCustomGeneralProducts[style].sizesPrices[\n                        size[0]\n                      ]\n                    "}})],1)],1)})),s("v-row",{staticClass:"d-flex justify-start"},[s("v-btn",{attrs:{color:"secondary"},on:{click:function(s){return t.applyGeneralProductChanges(e,"custom")}}},[t._v("Submit")])],1)],2)}))],2)],1)],1),s("v-divider"),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-container",[s("v-row",[s("h3",{staticClass:"secondary--text"},[t._v(" Non Custom Drawing Sizes Prices ")])]),t._l(Object.keys(t.nonCustomGeneralProducts),(function(e,r){return s("v-container",{key:r},[s("v-row",[s("h4",{staticClass:"secondary--text"},[t._v(t._s(e))])]),t._l(Object.entries(t.nonCustomGeneralProducts[e].sizesPrices),(function(r,a){return s("v-row",{key:a},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-label",[t._v(t._s(r[0])+":")]),s("v-text-field",{attrs:{"single-line":"",filled:"",suffix:"LE",rules:t.numberRules,type:"number"},model:{value:t.modifiedNonCustomGeneralProducts[e].sizesPrices[r[0]],callback:function(s){t.$set(t.modifiedNonCustomGeneralProducts[e].sizesPrices,r[0],t._n(s))},expression:"\n                      modifiedNonCustomGeneralProducts[style].sizesPrices[\n                        size[0]\n                      ]\n                    "}})],1)],1)})),s("v-row",{staticClass:"d-flex justify-start"},[s("v-btn",{attrs:{color:"secondary"},on:{click:function(s){return t.applyGeneralProductChanges(e,"nonCustom")}}},[t._v("Submit")])],1)],2)}))],2)],1)],1),s("v-divider"),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-container",[s("v-row",[s("h3",{staticClass:"secondary--text"},[t._v("Shipping Fees")])]),s("v-container",[t._l(Object.entries(t.shippingFees),(function(e,r){return s("v-row",{key:r},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-label",[t._v(t._s(e[0])+":")]),s("v-text-field",{attrs:{min:"0","single-line":"",filled:"",suffix:"LE",rules:t.numberRules,type:"number"},model:{value:t.modifiedShippingFees[e[0]],callback:function(s){t.$set(t.modifiedShippingFees,e[0],t._n(s))},expression:"modifiedShippingFees[shippingMethod[0]]"}})],1)],1)})),s("v-row",{staticClass:"d-flex justify-start"},[s("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.applyGlobalVariableChanges("shippingFees",t.modifiedShippingFees)}}},[t._v("Submit")])],1)],2)],1)],1)],1),s("v-divider"),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-container",[s("v-row",[s("h3",{staticClass:"secondary--text"},[t._v("Face Price")])]),s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-label",[t._v("Face price:")]),s("v-text-field",{attrs:{min:"0","single-line":"",filled:"",suffix:"LE",rules:t.numberRules,type:"number"},model:{value:t.modifiedFacePrice,callback:function(e){t.modifiedFacePrice=t._n(e)},expression:"modifiedFacePrice"}})],1)],1),s("v-row",{staticClass:"d-flex justify-start"},[s("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.applyGlobalVariableChanges("facePrice",t.modifiedFacePrice)}}},[t._v("Submit")])],1)],1)],1)],1)],1)],1)],1),"none"!==t.editedSuccessfully?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeEditedSuccessfullyWindow,expression:"closeEditedSuccessfullyWindow"}],staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeEditedSuccessfullyWindow}},[s("v-icon",[t._v("mdi-close")])],1),"fail"===t.editedSuccessfully?s("v-alert",{attrs:{type:"error"}},[t._v("Error. Could not Edit. Please try again.")]):t._e(),"success"===t.editedSuccessfully?s("v-alert",{attrs:{type:"success"}},[t._v("Edited successfully.")]):t._e()],1)]):t._e()],1):t._e()},Ne=[],De={name:"admin-edit-prices",data:function(){return{dataFetched:!1,modifiedCustomGeneralProducts:{},modifiedNonCustomGeneralProducts:{},modifiedShippingFees:{},modifiedFacePrice:null,editedSuccessfully:"none",valid:!1,numberRules:[function(t){return 0===t||!!t||"This field is required!"},function(t){return/^[0-9]+$/.test(t)||"Only numbers are allowed!"}]}},methods:{applyGlobalVariableChanges:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.form.validate(),!this.valid){t.next=16;break}return r="success",t.prev=3,a={},a[e]=s,t.next=8,this.$http.patch("/global-variables/".concat(e),{updatedGlobalVariableObject:a},{headers:{Authorization:this.$store.getters.adminAuthJwt}});case 8:n=t.sent,200!==n.status&&(r="fail"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),r="fail";case 15:this.editedSuccessfully=r;case 16:case"end":return t.stop()}}),t,this,[[3,12]])})));function e(e,s){return t.apply(this,arguments)}return e}(),applyGeneralProductChanges:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.form.validate(),!this.valid){t.next=15;break}return r="success",t.prev=3,a="custom"===s?this.modifiedCustomGeneralProducts:this.modifiedNonCustomGeneralProducts,t.next=7,this.$http.patch("/general-products/".concat(e),{sizesPrices:a[e].sizesPrices},{headers:{Authorization:this.$store.getters.adminAuthJwt}});case 7:n=t.sent,200!==n.status&&(r="fail"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),r="fail";case 14:this.editedSuccessfully=r;case 15:case"end":return t.stop()}}),t,this,[[3,11]])})));function e(e,s){return t.apply(this,arguments)}return e}(),closeEditedSuccessfullyWindow:function(){this.editedSuccessfully="none"}},computed:{customGeneralProducts:function(){return this.$store.getters.customGeneralProducts},nonCustomGeneralProducts:function(){return this.$store.getters.nonCustomGeneralProducts},shippingFees:function(){return this.$store.getters.shippingFees},facePrice:function(){return this.$store.getters.facePrice}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,0!==Object.keys(this.$store.getters.customGeneralProducts).length){t.next=6;break}return t.next=4,this.$http.get("/general-products/custom-products");case 4:e=t.sent,this.$store.dispatch("setCustomGeneralProducts",e.data.products);case 6:if(0!==Object.keys(this.$store.getters.nonCustomGeneralProducts).length){t.next=11;break}return t.next=9,this.$http.get("/general-products/non-custom-products");case 9:e=t.sent,this.$store.dispatch("setNonCustomGeneralProducts",e.data.products);case 11:if(0!==Object.keys(this.$store.getters.shippingFees).length){t.next=20;break}return t.next=14,this.$http.get("/global-variables/shippingFees");case 14:if(e=t.sent,200!==e.status){t.next=19;break}this.$store.dispatch("setShippingFees",e.data.shippingFees),t.next=20;break;case 19:throw new Error("fail");case 20:if(this.$store.getters.facePrice){t.next=29;break}return t.next=23,this.$http.get("/global-variables/facePrice");case 23:if(e=t.sent,200!==e.status){t.next=28;break}this.$store.dispatch("setFacePrice",e.data.facePrice),t.next=29;break;case 28:throw new Error("fail");case 29:this.modifiedCustomGeneralProducts=JSON.parse(JSON.stringify(this.customGeneralProducts)),this.modifiedNonCustomGeneralProducts=JSON.parse(JSON.stringify(this.nonCustomGeneralProducts)),this.modifiedShippingFees=JSON.parse(JSON.stringify(this.shippingFees)),this.modifiedFacePrice=this.facePrice,this.dataFetched=!0,t.next=39;break;case 36:t.prev=36,t.t0=t["catch"](0),t.t0;case 39:case"end":return t.stop()}}),t,this,[[0,36]])})));function e(){return t.apply(this,arguments)}return e}()},Le=De,Me=(s("482f"),Object(d["a"])(Le,je,Ne,!1,null,"6da7adfb",null)),Ge=Me.exports;h()(Me,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCol:I["a"],VContainer:vt["a"],VDivider:g["a"],VForm:St["a"],VIcon:b["a"],VLabel:Rt["a"],VOverlay:we["a"],VRow:ft["a"],VTextField:Vt["a"]}),ke()(Me,{ClickOutside:Pe["a"]});var We={name:"Admin",components:{AdminProducts:Re,AdminOrders:ze,Banner:st,AdminEditPrices:Ge},data:function(){return{dataFetched:!1,navbarTabs:[{icon:"mdi-phone-message",title:"Current Orders",component:"admin-orders"},{icon:"mdi-image",title:"Our Products",component:"admin-products"},{icon:"mdi-currency-usd",title:"Edit Prices",component:"admin-edit-prices"}],currentComponent:"admin-orders"}},watch:{"$store.state.adminAuthJwt":function(){this.$store.getters.adminAuthJwt||(this.$store.dispatch("setAdminLoggedInStatus",!1),this.$store.dispatch("setAdmin",{}))}},methods:{parseJwt:function(t){var e=t.split(".")[1],s=e.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(s).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)},validateAdminToken:function(t){if(t){var e=this.parseJwt(t);return e.admin?Date.now()>=1e3*e.exp?"expired":"valid":"invalid"}return"invalid"}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=sessionStorage.getItem("admin_auth_jwt"),s=this.validateAdminToken(e),"valid"!==s||!this.$store.getters.adminAuthJwt||0===Object.keys(this.$store.getters.admin).length){t.next=7;break}return this.dataFetched=!0,t.abrupt("return");case 7:"expired"===s&&sessionStorage.removeItem("admin_auth_jwt");case 8:this.$store.dispatch("setAdminAuthJwt",null),this.$store.dispatch("setAdminLoggedInStatus",!1),this.$store.dispatch("setAdmin",{}),this.$router.push("/6324789123/admin/login");case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Je=We,Be=(s("e79a"),Object(d["a"])(Je,ae,ne,!1,null,"66434440",null)),Ue=Be.exports;h()(Be,{VContainer:vt["a"],VDivider:g["a"],VIcon:b["a"],VList:x["a"],VListItem:_["a"],VListItemContent:C["a"],VListItemIcon:k["a"],VListItemTitle:C["b"],VNavigationDrawer:P["a"]});var qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-card",{staticClass:"main d-flex justify-center flex-column mt-10 mb-16"},[s("v-card-title",{staticClass:"d-block text-center pt-8 secondary--text"},[s("span",{staticClass:"login"},[t._v("Login")])]),s("v-container",[s("v-row",{staticClass:"d-flex justify-center"},[s("v-col",{attrs:{cols:"6"}},[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{rules:t.passwordRules,label:"Password",type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-btn",{staticClass:"my-4",attrs:{color:"secondary"},on:{click:t.login}},[t._v("Login")]),t.loginFail?s("v-alert",{attrs:{type:"error"}},[t._v("Wrong email or password")]):t._e()],1)],1)],1)],1)],1)],1)},Ye=[],He={name:"admin-login",data:function(){return{valid:!1,loginFail:null,email:"",password:"",showPassword:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>8||"Password length must be 8-50 characters"}]}},methods:{login:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.form.validate(),!this.valid){t.next=12;break}return t.prev=2,t.next=5,this.$http.post("/authentication/admin-login",{email:this.email,password:this.password});case 5:e=t.sent,200===e.status?(sessionStorage.setItem("admin_auth_jwt",e.data.token),this.$store.dispatch("setAdmin",e.data.user),this.$store.dispatch("setAdminAuthJwt",e.data.token),this.$store.dispatch("setAdminLoggedInStatus",!0),this.$router.push("/6324789123/admin")):this.loginFail=!0,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),this.loginFail=!0;case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(){return t.apply(this,arguments)}return e}()}},Qe=He,Ke=(s("2de8"),Object(d["a"])(Qe,qe,Ye,!1,null,"5240da3e",null)),Ze=Ke.exports;h()(Ke,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCardTitle:Yt["b"],VCol:I["a"],VContainer:vt["a"],VForm:St["a"],VRow:ft["a"],VTextField:Vt["a"]});var Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-container",{class:t.$vuetify.breakpoint.xsOnly?"pa-0":"",attrs:{fluid:t.$vuetify.breakpoint.xsOnly}},[s("banner"),s("v-container",{class:t.$vuetify.breakpoint.xsOnly?"pa-0 pb-16":"pb-16"},[s("h1",{staticClass:"text-center secondary--text my-10 font-weight-regular"},[t._v(" My Profile ")]),s("v-navigation-drawer",{staticClass:"myNav",attrs:{dark:"",app:"","hide-overlay":"",permanent:"","mini-variant":"","expand-on-hover":""}},[s("v-list-item",{attrs:{to:"#"},on:{click:function(e){t.currentComponent=t.navbarTabs[0].component}}},[s("v-list-item-icon",[s("v-icon",{staticClass:"secondary--text"},[t._v("mdi-home")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"white--text"},[t._v("My Profile")])],1)],1),s("v-divider"),s("v-list",{attrs:{nav:"",dense:""}},t._l(t.navbarTabs,(function(e){return s("v-list-item",{key:e.title,attrs:{link:""},on:{click:function(s){t.currentComponent=e.component}}},[s("v-list-item-icon",{staticClass:"primary--text"},[s("v-icon",{staticClass:"secondary--text"},[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"white--text"},[t._v(t._s(e.title))])],1)],1)})),1)],1),s("v-container",{staticClass:"d-flex flex-column justify-center",class:t.$vuetify.breakpoint.xsOnly?"pa-0":"",attrs:{fluid:t.$vuetify.breakpoint.xsOnly}},[s(t.currentComponent,{tag:"component"})],1)],1)],1):t._e()},ts=[],es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-card",{staticClass:"main mb-16"},[s("v-card-title",{staticClass:"d-block text-center secondary--text h1"},[t._v("My Orders")]),s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",[s("tr",[s("td",[t._v(" Total orders ")]),s("td",[t._v(" "+t._s(t.totalCount)+" ")])]),s("tr",[s("td",[t._v(" Total undelivered orders: ")]),s("td",[t._v(" "+t._s(t.undeliveredCount)+" ")])]),s("tr",[s("td",[t._v(" Total delivered orders: ")]),s("td",[t._v(" "+t._s(t.totalCount-t.undeliveredCount)+" ")])])])]},proxy:!0}],null,!1,1467697236)})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-pagination",{attrs:{length:t.pagesCount,"total-visible":t.$vuetify.breakpoint.smAndDown?3:t.pagesCount,circle:"",color:"secondary",dark:""},on:{input:function(e){t.getOrders(t.page),t.disableAllLists()}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1),s("v-list",{staticClass:"main"},t._l(t.orders,(function(e,r){return s("v-list-group",{key:e._id,attrs:{dark:""},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s("Order: "+((t.page-1)*t.elementsPerPage+(r+1)))}}),s("div",{staticClass:"text-right"},[e.delivered?s("v-chip",{attrs:{small:"",color:"success",width:"100"}},[t._v("Delivered")]):t._e(),t.hasACustomOrder(e)?s("v-chip",{attrs:{small:"",color:"yellow",width:"100"}},[t._v("Has Custom Order(s)")]):t._e()],1)],1)]},proxy:!0}],null,!0),model:{value:t.ordersListsEnable[r],callback:function(e){t.$set(t.ordersListsEnable,r,e)},expression:"ordersListsEnable[i]"}},[s("v-list-item",[s("v-list-item-content",[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",[s("tr",[s("td",[t._v("Order code")]),s("td",[t._v(" "+t._s(e.code)+" ")])]),s("tr",[s("td",[t._v("Date")]),s("td",[t._v(" "+t._s(new Date(e.date).toString())+" ")])]),s("tr",[s("td",[t._v("Name")]),s("td",[t._v(" "+t._s(e.customerName)+" ")])]),s("tr",[s("td",[t._v("Shipping Method")]),s("td",[t._v(" "+t._s(e.shippingMethod)+" ")])]),s("tr",[s("td",[t._v("Address")]),s("td",[t._v(" "+t._s(e.customerAddress)+" ")])]),s("tr",[s("td",[t._v("Phone Numbers")]),s("td",t._l(e.customerPhoneNumbers,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),s("tr",[s("td",[t._v("Products")]),s("td",t._l(e.products,(function(e,r){return s("tr",{key:r,staticClass:"d-block"},[s("v-simple-table",[s("tbody",[s("tr",[s("td",[s("h3",[t._v("["+t._s(r+1)+"]")])]),s("td")]),t.isCustomProduct(e)?[s("v-chip",{attrs:{small:"",color:"yellow",width:"100"}},[t._v("Custom Order")]),s("tr",[s("td",[t._v("Product Image")]),s("td",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("v-img",{staticClass:"image-class",attrs:{src:e.image,height:t.imageSize,width:t.imageSize}})],1)])]),s("tr",[s("td",[t._v("Size")]),s("td",[t._v(t._s(e.size))])]),s("tr",[s("td",[t._v("Number of people/faces")]),s("td",[t._v(t._s(e.numberOfFaces))])]),s("tr",[s("td",[t._v("Quantity")]),s("td",[t._v(t._s(e.quantity))])]),s("tr",[s("td",[t._v("Price")]),s("td",[t._v(t._s(e.price))])]),s("tr",[s("td",[t._v("Product Categories")]),s("td",t._l(e.productCategories,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)])]:[s("tr",[s("td",[t._v("Product SKU code")]),s("td",[t._v(t._s(e.skuCode))])]),s("tr",[s("td",[t._v("Product ID")]),s("td",[t._v(t._s(e.productID))])]),s("tr",[s("td",[t._v("Product Image")]),s("td",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("v-img",{staticClass:"image-class",attrs:{src:e.image,height:t.imageSize,width:t.imageSize}})],1)])]),s("tr",[s("td",[t._v("Size")]),s("td",[t._v(t._s(e.size))])]),s("tr",[s("td",[t._v("Number of people/faces")]),s("td",[t._v(t._s(e.numberOfFaces))])]),s("tr",[s("td",[t._v("Quantity")]),s("td",[t._v(t._s(e.quantity))])]),s("tr",[s("td",[t._v("Price")]),s("td",[t._v(t._s(e.price))])]),s("tr",[s("td",[t._v("Product Categories")]),s("td",t._l(e.productCategories,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)])]],2)])],1)})),0)]),s("tr",[s("td",[t._v("Shipping Fees")]),s("td",[t._v(" "+t._s(e.shippingFees)+" ")])]),s("tr",[s("td",[t._v("Total price")]),s("td",[t._v(" "+t._s(t.totalPrice(r))+" ")])])])]},proxy:!0}],null,!0)})],1)],1)],1)})),1)],1):t._e()},ss=[],rs={name:"user-orders",data:function(){return{dataFetched:!1,page:1,elementsPerPage:2,pagesCount:null,totalCount:null,ordersCount:null,undeliveredCount:null,ordersListsEnable:void 0,orders:[],imageSize:200}},beforeMount:function(){this.ordersListsEnable=new Array(this.orders.length);var t,e=Object(J["a"])(this.ordersListsEnable);try{for(e.s();!(t=e.n()).done;){var s=t.value;this.ordersListsEnable[s]=!1}}catch(r){e.e(r)}finally{e.f()}},methods:{totalPrice:function(t){var e=0;return this.orders[t].products.forEach((function(t){e+=t.price})),e+this.orders[t].shippingFees},hasACustomOrder:function(t){for(var e=0;e<t.products.length;e++)if(t.products[e].productCategories.includes("Custom"))return!0;return!1},isCustomProduct:function(t){return!!t.productCategories.includes("Custom")},getOrders:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/users/me/orders?sort=-date&page=".concat(e,"&limit=").concat(this.elementsPerPage),{headers:{Authorization:this.$store.getters.authJwt}});case 2:s=t.sent,this.pagesCount=Math.ceil(s.data.totalSize/this.elementsPerPage),this.totalCount=s.data.totalSize,this.ordersCount=s.data.size,this.undeliveredCount=s.data.totalUndelivered,this.orders=s.data.orders,this.page=e;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),disableAllLists:function(){for(var t=0;t<this.ordersListsEnable.length;t++)this.ordersListsEnable[t]=!1}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getOrders(this.page);case 2:this.ordersListsEnable=new Array(this.orders.length),this.disableAllLists(),this.dataFetched=!0;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},as=rs,ns=(s("04b8"),Object(d["a"])(as,es,ss,!1,null,"4ee1d51d",null)),os=ns.exports;h()(ns,{VCard:lt["a"],VCardTitle:Yt["b"],VChip:Ee["a"],VCol:I["a"],VContainer:vt["a"],VImg:y["a"],VList:x["a"],VListGroup:Fe["a"],VListItem:_["a"],VListItemContent:C["a"],VListItemTitle:C["b"],VPagination:mt["a"],VRow:ft["a"],VSimpleTable:Ie["a"]});var is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-card",{staticClass:"main",attrs:{light:""}},[s("h2",{staticClass:"text-center py-10 secondary--text"},[t._v("Edit Profile")]),s("v-container",{staticClass:"d-flex flex-column align-content-space-around pa-10"},[s("v-container",{staticClass:"my-2",staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[s("v-form",{ref:"phoneNumbersForm",model:{value:t.validPhoneNumbers,callback:function(e){t.validPhoneNumbers=e},expression:"validPhoneNumbers"}},[s("v-label",[t._v("Phone Number")]),s("p",{staticClass:"caption grey--text text--darken-2"},[t._v(" You can add up to 3 phone numbers to choose one of them when you order. ")]),s("v-text-field",{attrs:{label:"First Phone Number [[[Required]]]",prefix:"+2",placeholder:"011122333",rules:t.mainPhoneRules},model:{value:t.phone1,callback:function(e){t.phone1=e},expression:"phone1"}}),s("v-text-field",{attrs:{label:"Second Phone Number",prefix:"+2",placeholder:"011122333",rules:t.phoneRules},model:{value:t.phone2,callback:function(e){t.phone2=e},expression:"phone2"}}),s("v-text-field",{attrs:{label:"Third Phone Number",prefix:"+2",placeholder:"011122333",rules:t.phoneRules},model:{value:t.phone3,callback:function(e){t.phone3=e},expression:"phone3"}}),s("v-btn",{staticClass:"my-4",attrs:{color:"secondary"},on:{click:t.applyPhoneChanges}},[t._v("Submit")])],1)],1),s("v-divider"),s("v-divider"),s("v-divider"),s("v-divider"),s("v-container",{staticClass:"my-2",staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[s("v-form",{ref:"addressesForm",model:{value:t.validAddresses,callback:function(e){t.validAddresses=e},expression:"validAddresses"}},[s("v-label",[t._v("Addresses")]),s("p",{staticClass:"caption grey--text text--darken-2"},[t._v(" You can add up to 3 addresses to choose one of them when you order. ")]),s("p",{staticClass:"caption"},[t._v(" Please write in Arabic and add any useful details. ")]),s("h3",{staticClass:"font-weight-regular secondary--text"},[t._v(" FIRST ADDRESS "),s("span",{staticClass:"red--text"},[t._v("[REQUIRED]")])]),s("p",{staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[t._v(" Your first address is: "),s("br"),t._v(" "+t._s(this.$store.getters.user.addresses[0]||"Not entered.")+" ")]),s("v-textarea",{attrs:{rules:t.addressRules,filled:"",label:"Detailed Address For Shipping",rows:"4",counter:"1000"},model:{value:t.address1,callback:function(e){t.address1=e},expression:"address1"}}),s("v-text-field",{attrs:{label:"City"},model:{value:t.city1,callback:function(e){t.city1=e},expression:"city1"}}),s("v-text-field",{attrs:{label:"Street Name/Number"},model:{value:t.street1,callback:function(e){t.street1=e},expression:"street1"}}),s("v-text-field",{attrs:{label:"Appartment/Suite number, ..etc",hint:"Write your appartment number."},model:{value:t.appartment1,callback:function(e){t.appartment1=e},expression:"appartment1"}}),s("v-divider"),s("h3",{staticClass:"font-weight-regular secondary--text"},[t._v("SECOND ADDRESS")]),s("p",{staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[t._v(" Your second address is: "),s("br"),t._v(" "+t._s(this.$store.getters.user.addresses[1]||"Not entered.")+" ")]),s("v-textarea",{attrs:{filled:"",label:"Detailed Address For Shipping",rows:"4",counter:"1000"},model:{value:t.address2,callback:function(e){t.address2=e},expression:"address2"}}),s("v-text-field",{attrs:{label:"City"},model:{value:t.city2,callback:function(e){t.city2=e},expression:"city2"}}),s("v-text-field",{attrs:{label:"Street Name/Number"},model:{value:t.street2,callback:function(e){t.street2=e},expression:"street2"}}),s("v-text-field",{attrs:{label:"Appartment/Suite number, ..etc",hint:"Write your appartment number."},model:{value:t.appartment2,callback:function(e){t.appartment2=e},expression:"appartment2"}}),s("v-divider"),s("h3",{staticClass:"font-weight-regular secondary--text"},[t._v("THIRD ADDRESS")]),s("p",{staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[t._v(" Your third address is: "),s("br"),t._v(" "+t._s(this.$store.getters.user.addresses[2]||"Not entered.")+" ")]),s("v-textarea",{attrs:{filled:"",label:"Detailed Address For Shipping",rows:"4",counter:"1000"},model:{value:t.address3,callback:function(e){t.address3=e},expression:"address3"}}),s("v-text-field",{attrs:{label:"City"},model:{value:t.city3,callback:function(e){t.city3=e},expression:"city3"}}),s("v-text-field",{attrs:{label:"Street Name/Number"},model:{value:t.street3,callback:function(e){t.street3=e},expression:"street3"}}),s("v-text-field",{attrs:{label:"Appartment/Suite number, ..etc",hint:"Write your appartment number."},model:{value:t.appartment3,callback:function(e){t.appartment3=e},expression:"appartment3"}}),s("v-btn",{staticClass:"my-4",attrs:{color:"secondary"},on:{click:t.applyAddressChanges}},[t._v("Submit")])],1)],1)],1),"none"!==t.responseResult?s("v-overlay",{attrs:{"z-index":"11",opacity:"0.8",value:!0}},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeResponseResultWindow,expression:"closeResponseResultWindow"}],staticClass:"my-10"},[s("v-btn",{attrs:{icon:""},on:{click:t.closeResponseResultWindow}},[s("v-icon",[t._v("mdi-close")])],1),"fail"===t.responseResult?s("v-alert",{attrs:{type:"error"}},[t._v("Error. Could not Edit. Please try again.")]):t._e(),"success"===t.responseResult?s("v-alert",{attrs:{type:"success"}},[t._v("Edited successfully.")]):t._e()],1)]):t._e()],1):t._e()},cs=[],ls={name:"user-edit-profile",data:function(){return{dataFetched:!1,responseResult:"none",phone1:"",phone2:"",phone3:"",address1:"",address2:"",address3:"",city1:"",city2:"",city3:"",street1:"",street2:"",street3:"",appartment1:"",appartment2:"",appartment3:"",validAddresses:!1,validPhoneNumbers:!1,phoneRules:[function(t){return null===t||void 0===t||/^$|^(01)[0-9]{9}$/.test(t)||"Wrong phone format"}],mainPhoneRules:[function(t){return!!t||"Phone number is required"},function(t){return/^(01)[0-9]{9}$/.test(t)||"Wrong phone format"}],addressRules:[function(t){return!!t||"Address is required"}]}},methods:{applyPhoneChanges:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.phoneNumbersForm.validate(),this.validPhoneNumbers){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e=new Set([this.phone1]),this.phone2&&e.add(this.phone2),this.phone3&&e.add(this.phone3),t.next=9,this.$http.patch("/users/me/change-phone-numbers",{phoneNumbers:Array.from(e)},{headers:{Authorization:this.$store.getters.authJwt}});case 9:s=t.sent,200===s.status?(this.responseResult="success",this.$store.dispatch("editUser",{phoneNumbers:Array.from(e)})):this.responseResult="fail",t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),this.responseResult="fail";case 16:case"end":return t.stop()}}),t,this,[[3,13]])})));function e(){return t.apply(this,arguments)}return e}(),applyAddressChanges:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.addressesForm.validate(),this.validAddresses){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e=["المدينة:".concat(this.city1||"لم يذكر",". \nالشارع:").concat(this.street1||"لم يذكر",". \nالشقة:").concat(this.appartment1||"لم يذكر",". \nالعنوان بالتحديد: ").concat(this.address1,".")],this.address2&&e.push("المدينة:".concat(this.city2||"لم يذكر",". \nالشارع:").concat(this.street2||"لم يذكر",". \nالشقة:").concat(this.appartment2||"لم يذكر",". \nالعنوان بالتحديد: ").concat(this.address2,".")),this.address3&&e.push("المدينة:".concat(this.city3||"لم يذكر",". \nالشارع:").concat(this.street3||"لم يذكر",". \nالشقة:").concat(this.appartment3||"لم يذكر",". \nالعنوان بالتحديد: ").concat(this.address3,".")),t.next=9,this.$http.patch("/users/me/change-addresses",{addresses:e},{headers:{Authorization:this.$store.getters.authJwt}});case 9:s=t.sent,200===s.status?(this.responseResult="success",this.$store.dispatch("editUser",{addresses:e})):this.responseResult="fail",t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),this.responseResult="fail";case 16:case"end":return t.stop()}}),t,this,[[3,13]])})));function e(){return t.apply(this,arguments)}return e}(),closeResponseResultWindow:function(){this.responseResult="none"}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.phone1=this.$store.getters.user.phoneNumbers[0]||"",this.phone2=this.$store.getters.user.phoneNumbers[1]||"",this.phone3=this.$store.getters.user.phoneNumbers[2]||"",this.dataFetched=!0;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},us=ls,ds=(s("c4ee"),Object(d["a"])(us,is,cs,!1,null,"f85a2886",null)),ps=ds.exports;h()(ds,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VContainer:vt["a"],VDivider:g["a"],VForm:St["a"],VIcon:b["a"],VLabel:Rt["a"],VOverlay:we["a"],VTextField:Vt["a"],VTextarea:ee["a"]}),ke()(ds,{ClickOutside:Pe["a"]});var hs={name:"my-profile",components:{Banner:st,UserOrders:os,UserEditProfile:ps},data:function(){return{dataFetched:!1,navbarTabs:[{icon:"mdi-phone-message",title:"My Orders",component:"user-orders"},{icon:"mdi-account-edit",title:"Edit Profile",component:"user-edit-profile"}],currentComponent:"user-orders"}},methods:{},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.getters.authJwt||this.$router.push("/login"),this.dataFetched=!0;case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},vs=hs,ms=(s("42b6"),Object(d["a"])(vs,Xe,ts,!1,null,"487067c3",null)),fs=ms.exports;h()(ms,{VContainer:vt["a"],VDivider:g["a"],VIcon:b["a"],VList:x["a"],VListItem:_["a"],VListItemContent:C["a"],VListItemIcon:k["a"],VListItemTitle:C["b"],VNavigationDrawer:P["a"]});var gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"not_found"}},[s("v-card",{staticClass:"d-flex flex-column justify-center mt-10 main"},[s("v-row",{staticClass:"d-flex justify-center"},[s("v-card-title",{staticClass:"secondary--text"},[t._v("We are sorry, there is a fatal error. Please try again.")]),s("p",{staticClass:"secondary--text"},[t._v("Or contact us if you couldn't fix this.")]),s("p",{staticClass:"secondary--text"},[t._v(" Our contact info is down below at the footer. ")])],1),s("v-row",{staticClass:"d-flex justify-center"},[s("v-card-actions",[s("router-link",{staticClass:"mt-10 secondary--text",attrs:{to:"/"}},[t._v("Back to home")])],1)],1)],1)],1)},bs=[],ys={name:"NotFound"},xs=ys,_s=(s("2da1"),Object(d["a"])(xs,gs,bs,!1,null,"6e14a8bf",null)),ws=_s.exports;h()(_s,{VCard:lt["a"],VCardActions:Yt["a"],VCardTitle:Yt["b"],VRow:ft["a"]});var Cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"not_found"}},[s("v-card",{staticClass:"d-flex flex-column justify-center mt-10 main"},[s("v-row",{staticClass:"d-flex justify-center"},[s("v-card-title",{staticClass:"secondary--text"},[t._v("404 - Page not found.")])],1),s("v-row",{staticClass:"d-flex justify-center"},[s("v-card-actions",[s("router-link",{staticClass:"mt-10 secondary--text",attrs:{to:"/"}},[t._v("Back to home")])],1)],1)],1)],1)},ks=[],Ps={name:"NotFound"},Ss=Ps,Rs=(s("dd8b"),Object(d["a"])(Ss,Cs,ks,!1,null,"76281cf8",null)),As=Rs.exports;h()(Rs,{VCard:lt["a"],VCardActions:Yt["a"],VCardTitle:Yt["b"],VRow:ft["a"]});var Vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-container",[s("v-card",{staticClass:"main mb-16",attrs:{tile:"",flat:""}},[s("v-card-title",{staticClass:"sizes-card-title d-block text-center secondary--text"},[t._v("Sizes Preview")]),s("v-container",[t._l(t.sizesPreview,(function(e,r){return[s("v-row",{key:r,staticClass:"pb-4"},[s("v-col",{attrs:{cols:"12"}},[s("h2",{staticClass:"secondary--text"},[t._v(t._s(e.size))]),s("v-container",{staticClass:"d-flex flex-row justify-start align-center flex-wrap pa-0 pt-4"},t._l(e.images,(function(e,r){return s("div",{key:r,staticClass:"pr-2 py-2"},[s("v-img",{attrs:{src:e,height:t.imageSize,width:t.imageSize}})],1)})),0)],1)],1),s("v-divider",{key:r+t.sizesPreview.length})]})),s("v-row",[s("v-col",{staticClass:"d-flex justify-end pt-16 pb-0",attrs:{cols:"12"}},[s("v-btn",{attrs:{"max-width":"200px",color:"secondary"},on:{click:t.goBack}},[t._v("Go Back")])],1)],1)],2)],1)],1):t._e()},$s=[],Os={name:"drawing-styles-examples",data:function(){return{imageSize:"200px",dataFetched:!1,sizesPreview:null}},methods:{getSizesPreview:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("/global-variables/sizesPreview");case 3:if(e=t.sent,200!==e.status){t.next=8;break}this.sizesPreview=e.data.sizesPreview,t.next=9;break;case 8:throw new Error("fail");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.$router.push("/error");case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}(),goBack:function(){this.$router.go(-1)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getSizesPreview();case 2:this.dataFetched=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Es=Os,Fs=(s("0ffc"),Object(d["a"])(Es,Vs,$s,!1,null,"0559e954",null)),Is=Fs.exports;h()(Fs,{VBtn:f["a"],VCard:lt["a"],VCardTitle:Yt["b"],VCol:I["a"],VContainer:vt["a"],VDivider:g["a"],VImg:y["a"],VRow:ft["a"]});var Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-container",[s("v-card",{staticClass:"main mb-16",attrs:{tile:"",flat:""}},[s("v-card-title",{staticClass:"examples-card-title d-block text-center secondary--text"},[t._v("Drawing Styles Examples")]),s("v-container",[t._l(t.drawingStylesExamples,(function(e,r){return[s("v-row",{key:r,staticClass:"pb-4"},[s("v-col",{attrs:{cols:"12"}},[s("h2",{staticClass:"secondary--text"},[t._v(t._s(e.style))]),s("v-container",{staticClass:"d-flex flex-row justify-start align-center flex-wrap pa-0 pt-4"},t._l(e.images,(function(e,r){return s("div",{key:r,staticClass:"pr-2 py-2"},[s("v-img",{attrs:{src:e,height:t.imageSize,width:t.imageSize}})],1)})),0)],1)],1),s("v-divider",{key:r+t.drawingStylesExamples.length})]})),s("v-row",[s("v-col",{staticClass:"d-flex justify-end pt-16 pb-0",attrs:{cols:"12"}},[s("v-btn",{attrs:{"max-width":"200px",color:"secondary"},on:{click:t.goBack}},[t._v("Go Back")])],1)],1)],2)],1)],1):t._e()},zs=[],js={name:"drawing-styles-examples",data:function(){return{imageSize:"200px",dataFetched:!1,drawingStylesExamples:null}},methods:{getDrawingStylesExamples:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("/global-variables/drawingStylesExamples");case 3:if(e=t.sent,200!==e.status){t.next=8;break}this.drawingStylesExamples=e.data.drawingStylesExamples,t.next=9;break;case 8:throw new Error("fail");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.$router.push("/error");case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}(),goBack:function(){this.$router.go(-1)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDrawingStylesExamples();case 2:this.dataFetched=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Ns=js,Ds=(s("c41b"),Object(d["a"])(Ns,Ts,zs,!1,null,"6a8da735",null)),Ls=Ds.exports;h()(Ds,{VBtn:f["a"],VCard:lt["a"],VCardTitle:Yt["b"],VCol:I["a"],VContainer:vt["a"],VDivider:g["a"],VImg:y["a"],VRow:ft["a"]});var Ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-card",{staticClass:"main mb-16"},[s("v-card-title",{staticClass:"cart-card-title d-block text-center secondary--text"},[t._v("Your Shopping Cart")]),s("v-container",[s("v-row",[s("v-col",{staticClass:"secondary--text pb-0",attrs:{cols:"12"}},[s("h3",{staticClass:"font-weight-regular"},[t._v("Products")])])],1),s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.cartIsEmpty?s("p",[t._v("Your Cart Is Empty")]):t._e(),s("v-simple-table",{staticClass:"table-class pa-2",attrs:{light:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",t._l(t.cart,(function(e,r){return s("tr",{key:r},[s("v-simple-table",{staticClass:"table-class"},[s("tbody",[s("tr",[s("td",[s("h3",[t._v("["+t._s(r+1)+"]")])]),s("td",[s("v-btn",{staticClass:"black red--text",attrs:{small:""},on:{click:function(e){return t.removeFromCart(r)}}},[t._v(" Remove From Cart "),s("v-icon",[t._v("mdi-delete")])],1)],1)]),t.isCustomProduct(e)?[s("v-chip",{attrs:{small:"",color:"yellow",width:"100"}},[t._v("Custom Order")]),s("tr",[s("td",[t._v("Size")]),s("td",[t._v(t._s(e.size))])]),s("tr",[s("td",[t._v("Quantity")]),s("td",[t._v(t._s(e.quantity))])]),s("tr",[s("td",[t._v("Number of people/faces")]),s("td",[t._v(t._s(e.numberOfFaces))])]),s("tr",[s("td",[t._v("Product Categories")]),s("td",t._l(e.productCategories,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),s("tr",[s("td",[t._v("Price")]),s("td",[t._v(t._s(e.price))])])]:[s("tr",[s("td",[t._v("Product ID")]),s("td",[t._v(t._s(e.productID))])]),s("tr",[s("td",[t._v("Product Image")]),s("td",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("v-img",{staticClass:"image-class",attrs:{src:e.image,height:t.imageSize,width:t.imageSize}})],1)])]),s("tr",[s("td",[t._v("Size")]),s("td",[t._v(t._s(e.size))])]),s("tr",[s("td",[t._v("Quantity")]),s("td",[t._v(t._s(e.quantity))])]),s("tr",[s("td",[t._v("Number of people/faces")]),s("td",[t._v(t._s(e.numberOfFaces))])]),s("tr",[s("td",[t._v("Product Categories")]),s("td",t._l(e.productCategories,(function(e){return s("tr",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),s("tr",[s("td",[t._v("Price")]),s("td",[t._v(t._s(e.price))])])]],2)]),t._l(10,(function(t){return s("v-divider",{key:t})}))],2)})),0)]},proxy:!0}])})],1)],1),t.cartIsEmpty||"none"!==t.orderedSuccessfully?t._e():[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("b",{staticClass:"secondary--text"},[t._v("Total Price: ")]),s("span",[t._v(t._s(t.totalPrice)+" LE + Shipping Fees")])])],1),s("v-divider",{staticClass:"my-10"}),s("v-row",[s("v-col",{staticClass:"secondary--text pb-0",attrs:{cols:"12"}},[s("h2",{staticClass:"text-center secondary--text"},[t._v("Order Now")])])],1),s("v-row",[s("v-col",{staticClass:"secondary--text pb-0",attrs:{cols:"12"}},[s("h3",{staticClass:"font-weight-regular"},[t._v("Your Info")])])],1),s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("order-info",{on:{"ordered-successfully":function(e){t.orderedSuccessfully=e}}})],1)],1)],"success"===t.orderedSuccessfully?s("v-alert",{attrs:{type:"success"}},[t._v("Your order is sent successfully. We will contact you as soon as possible")]):t._e(),"fail"===t.orderedSuccessfully?s("v-alert",{attrs:{type:"error"}},[t._v("There was an error sending your order. Please try again.")]):t._e(),s("v-row",[s("v-col",{staticClass:"d-flex justify-end pt-16 pb-0",attrs:{cols:"12"}},[s("v-btn",{attrs:{"max-width":"200px",color:"secondary"},on:{click:t.goBack}},[t._v("Go Back")])],1)],1)],2)],1)],1)},Gs=[],Ws=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dataFetched?s("v-container",[s("v-row",{staticClass:"d-flex justify-start"},[s("v-col",{attrs:{cols:"12"}},[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-container",{staticClass:"my-2",staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[s("v-text-field",{attrs:{label:"Name",rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("v-container",{staticClass:"my-2",staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[s("v-label",[t._v("Phone Number")]),t.isLoggedIn?[t.isLoggedIn?s("v-combobox",{staticClass:"my-4",attrs:{items:t.userPhoneNumbers,rules:t.mainPhoneRules,prefix:"+2",placeholder:"011122333",label:"First Phone Number(Required)",dense:""},nativeOn:{input:function(e){return t.updateComboboxValue(e,"phone1")}},model:{value:t.phone1,callback:function(e){t.phone1=e},expression:"phone1"}}):t._e(),t.isLoggedIn?s("v-combobox",{staticClass:"my-4",attrs:{items:t.userPhoneNumbers,rules:t.phoneRules,prefix:"+2",placeholder:"011122333",label:"Second Phone Number",dense:""},nativeOn:{input:function(e){return t.updateComboboxValue(e,"phone2")}},model:{value:t.phone2,callback:function(e){t.phone2=e},expression:"phone2"}}):t._e(),t.isLoggedIn?s("v-combobox",{staticClass:"my-4",attrs:{items:t.userPhoneNumbers,rules:t.phoneRules,prefix:"+2",placeholder:"011122333",label:"Third Phone Number",dense:""},nativeOn:{input:function(e){return t.updateComboboxValue(e,"phone3")}},model:{value:t.phone3,callback:function(e){t.phone3=e},expression:"phone3"}}):t._e()]:[s("v-text-field",{attrs:{label:"First Phone Number (Required)",prefix:"+2",placeholder:"011122333",rules:t.mainPhoneRules},model:{value:t.phone1,callback:function(e){t.phone1=e},expression:"phone1"}}),s("v-text-field",{attrs:{label:"Second Phone Number",prefix:"+2",placeholder:"01001116777",rules:t.phoneRules},model:{value:t.phone2,callback:function(e){t.phone2=e},expression:"phone2"}}),s("v-text-field",{attrs:{label:"Third Phone Number",prefix:"+2",placeholder:"01227799000",rules:t.phoneRules},model:{value:t.phone3,callback:function(e){t.phone3=e},expression:"phone3"}})]],2),s("v-container",{staticClass:"my-2",staticStyle:{border:"solid 1px grey","border-radius":"5px"}},[s("v-select",{attrs:{items:t.shippingMethods,"menu-props":{maxHeight:"400"},label:"Select A Shipping Method",rules:t.shippingMethodRules},model:{value:t.shippingMethod,callback:function(e){t.shippingMethod=e},expression:"shippingMethod"}}),"To A Metro Station"===t.shippingMethod?s("v-select",{attrs:{label:"Select A Metro Station.",items:t.metroStations,rules:t.metroStationRules},model:{value:t.metroStation,callback:function(e){t.metroStation=e},expression:"metroStation"}}):t._e(),"To Home"===t.shippingMethod?[s("h2",{staticClass:"font-weight-light"},[t._v("Home Address")]),t.isLoggedIn?[s("v-label",[t._v("Choose an existing address")]),t.isLoggedIn?s("v-select",{attrs:{items:t.userAddresses,label:"",dense:"",rules:t.homeAddressRules},model:{value:t.chosenAddress,callback:function(e){t.chosenAddress=e},expression:"chosenAddress"}}):t._e()]:t._e(),t.chosenAddress?t._e():[s("v-label",[t._v("Or write a new address")]),s("p",{staticClass:"caption"},[t._v(" Please write in Arabic and add any useful details. ")]),s("v-textarea",{attrs:{filled:"",label:"Detailed Shipping Address",rows:"4",counter:"1000",rules:t.addressRules},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),s("v-text-field",{attrs:{disabled:!!t.chosenAddress,label:"City"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),s("v-text-field",{attrs:{label:"Street Name/Number"},model:{value:t.street,callback:function(e){t.street=e},expression:"street"}}),s("v-text-field",{attrs:{label:"Appartment/Suite number, ..etc",hint:"Write your appartment number."},model:{value:t.appartment,callback:function(e){t.appartment=e},expression:"appartment"}})]]:t._e(),"Receive It From Our Location (No Shipping Fees)"===t.shippingMethod?s("v-select",{attrs:{label:"Select One Of Our Locations",items:t.ourLocations,rules:t.receiveLocationRules},model:{value:t.receiveLocation,callback:function(e){t.receiveLocation=e},expression:"receiveLocation"}}):t._e()],2),s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("b",{staticClass:"secondary--text"},[t._v("Total Price: ")]),s("span",[t._v(t._s(t.totalPrice)+" LE + Shipping Fees")]),t.shippingMethod?s("span",[t._v("("+t._s(t.shippingFees)+" LE) = "+t._s(t.totalPrice+t.shippingFees)+" LE")]):s("span",[s("br"),t._v("Choose a shipping method to show shipping fees")])])],1)],1),s("v-btn",{staticClass:"my-4",attrs:{color:"secondary",disabled:t.cartIsEmpty},on:{click:t.confirmOrder}},[t._v("Confirm Order")]),s("span",[t._v(t._s(t.message))])],1)],1)],1)],1):t._e()},Js=[],Bs=s("2909"),Us={name:"order-info",data:function(){return{dataFetched:!1,name:"",phone1:"",phone2:void 0,phone3:void 0,address:void 0,city:void 0,street:void 0,appartment:void 0,chosenAddress:"",metroStation:void 0,receiveLocation:void 0,shippingMethod:"",shippingMethods:["To Home","To A Metro Station","Receive It From Our Location (No Shipping Fees)"],metroStations:[],ourLocations:[],valid:!1,userPhoneNumbers:void 0,userAddresses:void 0,message:"",orderedSuccessfully:!1,nameRules:[function(t){return!!t||"Name is required"},function(t){return/^[\u0600-\u065F\u066A-\u06EF\u06FA-\u06FF]+[\u0600-\u065F\u066A-\u06EF\u06FA-\u06FF- ]*$|^[a-zA-Z]+[a-zA-Z-' ]*$/.test(t)||"Must use English or Arabic letters and special characters(space, ',  -)"},function(t){return(t&&t.length)<=50||"Must not exceed 50 characters"}],phoneRules:[function(t){return null===t||void 0===t||/^$|^(01)[0-9]{9}$/.test(t)||"Wrong phone format"}],mainPhoneRules:[function(t){return!!t||"Phone number is required"},function(t){return/^(01)[0-9]{9}$/.test(t)||"Wrong phone format"}],addressRules:[function(t){return!!t||"Address is required"}],metroStationRules:[function(t){return!!t||"You have to choose a metro station"}],receiveLocationRules:[function(t){return!!t||"You have to choose a receive location"}],shippingMethodRules:[function(t){return!!t||"You have to choose a shipping method"}],homeAddressRules:[function(t){return""===t||!!t||"You have to choose a home address"}]}},computed:{isLoggedIn:function(){return this.$store.getters.loggedIn},user:function(){return this.$store.getters.user},cartIsEmpty:function(){return 0===this.$store.getters.cart.length},totalPrice:function(){var t=0;return this.$store.getters.cart.forEach((function(e){t+=e.price})),t},shippingFees:function(){var t=this.$store.getters.shippingFees;return"To Home"===this.shippingMethod?t.home:"To A Metro Station"===this.shippingMethod?t.metro:t.ourLocation},shortShippingMethod:function(){return"To Home"===this.shippingMethod?"home":"To A Metro Station"===this.shippingMethod?"metro":"ourLocation"}},methods:{confirmOrder:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,r,a,n,o,i,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.cartIsEmpty){t.next=2;break}return t.abrupt("return");case 2:if(this.$refs.form.validate(),this.valid){t.next=5;break}return t.abrupt("return");case 5:for(this.message="Please wait...",e=this.name,s=new Set([this.phone1]),this.phone2&&s.add(this.phone2),this.phone3&&s.add(this.phone3),r=this.formatChosenAddress(),a={customerName:e,customerPhoneNumbers:Array.from(s),customerAddress:r,shippingMethod:this.shortShippingMethod,products:JSON.parse(JSON.stringify(this.$store.getters.cart))},this.isLoggedIn&&(a.userID=this.$store.getters.user._id),n=new FormData,o=0;o<this.$store.getters.cart.length;o++)i=this.$store.getters.cart[o],c=i.image,i.productID||(n.append("image_".concat(o),c),delete a.products[o].image);return n.append("body",JSON.stringify(a)),t.prev=16,l={"Content-Type":"multipart/form-data"},this.isLoggedIn&&(l["headers"]={Authorization:this.$store.getters.authJwt}),t.next=21,this.$http.post("/orders",n,l);case 21:if(u=t.sent,200!==u.status){t.next=28;break}this.message="",this.$emit("ordered-successfully","success"),this.$store.dispatch("emptyCart"),t.next=30;break;case 28:throw this.message="",new Error("fail");case 30:t.next=36;break;case 32:t.prev=32,t.t0=t["catch"](16),this.message="",this.$emit("ordered-successfully","fail");case 36:case"end":return t.stop()}}),t,this,[[16,32]])})));function e(){return t.apply(this,arguments)}return e}(),formatChosenAddress:function(){var t="";switch(this.shippingMethod){case"To Home":t="التسليم للمنزل. ",this.chosenAddress.length>0?t+="".concat(this.chosenAddress):t+="المدينة:".concat(this.city||"لم يذكر",". \nالشارع:").concat(this.street||"لم يذكر",". \nالشقة:").concat(this.appartment||"لم يذكر",". \nالعنوان بالتحديد: ").concat(this.address,".");break;case"To A Metro Station":t="التسليم لمحطة المترو ".concat(this.metroStation,". ");break;case"Receive It From Our Location (No Shipping Fees)":t="التسليم من مقر الشركة ".concat(this.receiveLocation,". ");break}return t},updateComboboxValue:function(t,e){this[e]=t.srcElement.value}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("/global-variables/metroStations");case 3:if(e=t.sent,200!==e.status){t.next=8;break}this.metroStations=e.data.metroStations,t.next=9;break;case 8:throw new Error("fail");case 9:return t.next=11,this.$http.get("/global-variables/ourLocations");case 11:if(e=t.sent,200!==e.status){t.next=16;break}this.ourLocations=e.data.ourLocations,t.next=17;break;case 16:throw new Error("fail");case 17:if(0!==Object.keys(this.$store.getters.shippingFees).length){t.next=26;break}return t.next=20,this.$http.get("/global-variables/shippingFees");case 20:if(e=t.sent,200!==e.status){t.next=25;break}this.$store.dispatch("setShippingFees",e.data.shippingFees),t.next=26;break;case 25:throw new Error("fail");case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),t.t0;case 31:this.isLoggedIn&&(this.userPhoneNumbers=this.user.phoneNumbers,this.userAddresses=Object(Bs["a"])(this.user.addresses),this.userAddresses.unshift(""),this.name=this.user.name),this.dataFetched=!0;case 33:case"end":return t.stop()}}),t,this,[[0,28]])})));function e(){return t.apply(this,arguments)}return e}()},qs=Us,Ys=(s("2ab8"),s("2b5d")),Hs=Object(d["a"])(qs,Ws,Js,!1,null,"2f08a0ef",null),Qs=Hs.exports;h()(Hs,{VBtn:f["a"],VCol:I["a"],VCombobox:Ys["a"],VContainer:vt["a"],VForm:St["a"],VLabel:Rt["a"],VRow:ft["a"],VSelect:At["a"],VTextField:Vt["a"],VTextarea:ee["a"]});var Ks={components:{OrderInfo:Qs},computed:{cart:function(){return this.$store.getters.cart},cartIsEmpty:function(){return 0===this.$store.getters.cart.length},totalPrice:function(){var t=0;return this.$store.getters.cart.forEach((function(e){t+=e.price})),t}},data:function(){return{imageSize:100,orderedSuccessfully:"none"}},methods:{removeFromCart:function(t){this.$store.dispatch("removeFromCart",t)},isCustomProduct:function(t){return!!t.productCategories.includes("Custom")},goBack:function(){this.$router.go(-1)}},mounted:function(){}},Zs=Ks,Xs=(s("fcce"),Object(d["a"])(Zs,Ms,Gs,!1,null,"5aa7370a",null)),tr=Xs.exports;h()(Xs,{VAlert:qt["a"],VBtn:f["a"],VCard:lt["a"],VCardTitle:Yt["b"],VChip:Ee["a"],VCol:I["a"],VContainer:vt["a"],VDivider:g["a"],VIcon:b["a"],VImg:y["a"],VRow:ft["a"],VSimpleTable:Ie["a"]}),r["a"].use(Y["a"]);var er=[{path:"/home/:component",name:"home",component:zt},{path:"/",redirect:"/home/our-products"},{path:"/home",redirect:"/home/our-products"},{path:"/product/:id",name:"show-product",component:Gt},{path:"/preview-sizes",name:"preview-sizes",component:Is},{path:"/shopping-cart",name:"shopping-cart",component:tr},{path:"/drawing-styles-examples",name:"drawing-styles-examples",component:Ls},{path:"/login",name:"login",component:Qt},{path:"/signup",name:"signup",component:re},{path:"/6324789123/admin",name:"admin",component:Ue},{path:"/6324789123/admin/login",name:"admin-login",component:Ze},{path:"/my-profile",name:"my-profile",component:fs},{path:"/error",name:"error",component:ws},{path:"/404",name:"404",component:As},{path:"*",redirect:"/404"}],sr=function(t,e,s){return s||(t.hash?{selector:t.hash}:{x:0,y:0})},rr=new Y["a"]({mode:"history",routes:er,scrollBehavior:sr}),ar=rr,nr=s("f309");r["a"].use(nr["a"]);var or=new nr["a"]({theme:{themes:{light:{primary:"#000000",secondary:"#be7c09"}},light:!0}}),ir=s("bc3a"),cr=s.n(ir);r["a"].prototype.$http=cr.a.create({baseURL:"http://localhost:8000/api/v1",headers:{Accept:"application/json","Content-Type":"application/json"}}),r["a"].config.productionTip=!1,new r["a"]({store:q,router:ar,vuetify:or,render:function(t){return t(W)}}).$mount("#app")},"5c62":function(t,e,s){},"5d78":function(t,e,s){"use strict";var r=s("9a33"),a=s.n(r);a.a},"5ed5":function(t,e,s){"use strict";var r=s("45fe"),a=s.n(r);a.a},"662e":function(t,e,s){},"74ed":function(t,e,s){},"78e2":function(t,e,s){},"7d1d":function(t,e,s){},"83c6":function(t,e,s){"use strict";var r=s("7d1d"),a=s.n(r);a.a},"85ec":function(t,e,s){},"8be1":function(t,e,s){},9070:function(t,e,s){},"9a33":function(t,e,s){},"9ef7":function(t,e,s){},b640:function(t,e,s){t.exports=s.p+"img/logo.0fa8df29.jpg"},b6a6:function(t,e,s){"use strict";var r=s("5c62"),a=s.n(r);a.a},bb76:function(t,e,s){"use strict";var r=s("78e2"),a=s.n(r);a.a},bc87:function(t,e,s){},bf4b:function(t,e,s){"use strict";var r=s("d2ab"),a=s.n(r);a.a},c3dc:function(t,e,s){},c41b:function(t,e,s){"use strict";var r=s("273b"),a=s.n(r);a.a},c4ee:function(t,e,s){"use strict";var r=s("341f"),a=s.n(r);a.a},c5eb:function(t,e,s){"use strict";var r=s("8be1"),a=s.n(r);a.a},d226:function(t,e,s){},d2ab:function(t,e,s){},da18:function(t,e,s){},dd8b:function(t,e,s){"use strict";var r=s("c3dc"),a=s.n(r);a.a},e2ed:function(t,e,s){},e790:function(t,e,s){},e79a:function(t,e,s){"use strict";var r=s("da18"),a=s.n(r);a.a},eaa2:function(t,e,s){},fcce:function(t,e,s){"use strict";var r=s("662e"),a=s.n(r);a.a}});
//# sourceMappingURL=app.a31c8b75.js.map